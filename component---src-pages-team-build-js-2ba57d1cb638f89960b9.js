"use strict";(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[183],{67417:function(e,t,r){var n=r(63366),a=r(87462),o=r(67294),i=r(85505),l=r(49408),c=r(67663),s=r(87568),d=r(10184),u=r(92103),p=r(85893),m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,s.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:(0,c.Fq)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return(0,a.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),h=(0,s.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var r=e.ownerState;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===r.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),g=o.forwardRef((function(e,t){var r=(0,d.Z)({props:e,name:"MuiDivider"}),o=r.absolute,c=void 0!==o&&o,s=r.children,g=r.className,b=r.component,v=void 0===b?s?"div":"hr":b,y=r.flexItem,w=void 0!==y&&y,x=r.light,S=void 0!==x&&x,C=r.orientation,E=void 0===C?"horizontal":C,O=r.role,P=void 0===O?"hr"!==v?"separator":void 0:O,k=r.textAlign,_=void 0===k?"center":k,N=r.variant,I=void 0===N?"fullWidth":N,Z=(0,n.Z)(r,m),T=(0,a.Z)({},r,{absolute:c,component:v,flexItem:w,light:S,orientation:E,role:P,textAlign:_,variant:I}),A=function(e){var t=e.absolute,r=e.children,n=e.classes,a=e.flexItem,o=e.light,i=e.orientation,c=e.textAlign,s={root:["root",t&&"absolute",e.variant,o&&"light","vertical"===i&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===i&&"withChildrenVertical","right"===c&&"vertical"!==i&&"textAlignRight","left"===c&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,l.Z)(s,u.V,n)}(T);return(0,p.jsx)(f,(0,a.Z)({as:v,className:(0,i.Z)(A.root,g),role:P,ref:t,ownerState:T},Z,{children:s?(0,p.jsx)(h,{className:A.wrapper,ownerState:T,children:s}):null}))}));t.Z=g},20022:function(e,t,r){r.d(t,{Oq:function(){return p},dO:function(){return c},jn:function(){return o},iz:function(){return m},Dz:function(){return a},cv:function(){return d},oc:function(){return u}});var n="Invariant failed";var a=function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left;return{top:t,right:r,bottom:n,left:a,width:r-a,height:n-t,x:a,y:t,center:{x:(r+a)/2,y:(n+t)/2}}},o=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},i=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},l={top:0,right:0,bottom:0,left:0},c=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?l:r,c=e.border,s=void 0===c?l:c,d=e.padding,u=void 0===d?l:d,p=a(o(t,n)),m=a(i(t,s)),f=a(i(m,u));return{marginBox:p,borderBox:a(t),paddingBox:m,contentBox:f,margin:n,border:s,padding:u}},s=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e,t){if(!e)throw new Error(n)}(!1),r},d=function(e,t){var r,n,a=e.borderBox,o=e.border,i=e.margin,l=e.padding,s=(n=t,{top:(r=a).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return c({borderBox:s,border:o,margin:i,padding:l})},u=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),d(e,t)},p=function(e,t){var r={top:s(t.marginTop),right:s(t.marginRight),bottom:s(t.marginBottom),left:s(t.marginLeft)},n={top:s(t.paddingTop),right:s(t.paddingRight),bottom:s(t.paddingBottom),left:s(t.paddingLeft)},a={top:s(t.borderTopWidth),right:s(t.borderRightWidth),bottom:s(t.borderBottomWidth),left:s(t.borderLeftWidth)};return c({borderBox:e,margin:r,padding:n,border:a})},m=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return p(t,r)}},49393:function(e,t){var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function n(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],o=t[n],!(a===o||r(a)&&r(o)))return!1;var a,o;return!0}t.Z=function(e,t){var r;void 0===t&&(t=n);var a,o=[],i=!1;return function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return i&&r===this&&t(n,o)||(a=e.apply(this,n),i=!0,r=this,o=n),a}}},62630:function(e,t){t.Z=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t=a,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n}},3840:function(e,t,r){r.d(t,{zt:function(){return d},$j:function(){return H}});var n=r(67294),a=n.createContext(null);var o=function(e){e()},i=function(){return o};var l={notify:function(){},get:function(){return[]}};function c(e,t){var r,n=l;function a(){c.onStateChange&&c.onStateChange()}function o(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=function(){var e=i(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var c={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=l)},getListeners:function(){return n}};return c}var s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;var d=function(e){var t=e.store,r=e.context,o=e.children,i=(0,n.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,n.useMemo)((function(){return t.getState()}),[t]);s((function(){var e=i.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,l]);var d=r||a;return n.createElement(d.Provider,{value:i},o)},u=r(87462),p=r(63366),m=r(15706),f=r.n(m),h=r(8812),g=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],b=["reactReduxForwardedRef"],v=[],y=[null,null];function w(e,t){var r=e[1];return[t.payload,r+1]}function x(e,t,r){s((function(){return e.apply(void 0,t)}),r)}function S(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function C(e,t,r,n,a,o,i,l,c,s){if(e){var d=!1,u=null,p=function(){if(!d){var e,r,p=t.getState();try{e=n(p,a.current)}catch(m){r=m,u=m}r||(u=null),e===o.current?i.current||c():(o.current=e,l.current=e,i.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u}}}var E=function(){return[null,0]};function O(e,t){void 0===t&&(t={});var r=t,o=r.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=r.methodName,s=void 0===l?"connectAdvanced":l,d=r.renderCountProp,m=void 0===d?void 0:d,O=r.shouldHandleStateChanges,P=void 0===O||O,k=r.storeKey,_=void 0===k?"store":k,N=(r.withRef,r.forwardRef),I=void 0!==N&&N,Z=r.context,T=void 0===Z?a:Z,A=(0,p.Z)(r,g),j=T;return function(t){var r=t.displayName||t.name||"Component",a=i(r),o=(0,u.Z)({},A,{getDisplayName:i,methodName:s,renderCountProp:m,shouldHandleStateChanges:P,storeKey:_,displayName:a,wrappedComponentName:r,WrappedComponent:t}),l=A.pure;var d=l?n.useMemo:function(e){return e()};function g(r){var a=(0,n.useMemo)((function(){var e=r.reactReduxForwardedRef,t=(0,p.Z)(r,b);return[r.context,e,t]}),[r]),i=a[0],l=a[1],s=a[2],m=(0,n.useMemo)((function(){return i&&i.Consumer&&(0,h.isContextConsumer)(n.createElement(i.Consumer,null))?i:j}),[i,j]),f=(0,n.useContext)(m),g=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(f)&&Boolean(f.store);var O=g?r.store:f.store,k=(0,n.useMemo)((function(){return function(t){return e(t.dispatch,o)}(O)}),[O]),_=(0,n.useMemo)((function(){if(!P)return y;var e=c(O,g?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,g,f]),N=_[0],I=_[1],Z=(0,n.useMemo)((function(){return g?f:(0,u.Z)({},f,{subscription:N})}),[g,f,N]),T=(0,n.useReducer)(w,v,E),A=T[0][0],M=T[1];if(A&&A.error)throw A.error;var D=(0,n.useRef)(),L=(0,n.useRef)(s),R=(0,n.useRef)(),z=(0,n.useRef)(!1),B=d((function(){return R.current&&s===L.current?R.current:k(O.getState(),s)}),[O,A,s]);x(S,[L,D,z,s,B,R,I]),x(C,[P,O,N,k,L,D,z,R,I,M],[O,N,k]);var q=(0,n.useMemo)((function(){return n.createElement(t,(0,u.Z)({},B,{ref:l}))}),[l,t,B]);return(0,n.useMemo)((function(){return P?n.createElement(m.Provider,{value:Z},q):q}),[m,q,Z])}var O=l?n.memo(g):g;if(O.WrappedComponent=t,O.displayName=g.displayName=a,I){var k=n.forwardRef((function(e,t){return n.createElement(O,(0,u.Z)({},e,{reactReduxForwardedRef:t}))}));return k.displayName=a,k.WrappedComponent=t,f()(k,t)}return f()(O,t)}}function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function k(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!P(e[r[a]],t[r[a]]))return!1;return!0}function _(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function N(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function I(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=N(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=N(a),a=n(t,r)),a},n}}var Z=[function(e){return"function"==typeof e?I(e):void 0},function(e){return e?void 0:_((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?_((function(t){return function(e,t){var r={},n=function(n){var a=e[n];"function"==typeof a&&(r[n]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)n(a);return r}(e,t)})):void 0}];var T=[function(e){return"function"==typeof e?I(e):void 0},function(e){return e?void 0:_((function(){return{}}))}];function A(e,t,r){return(0,u.Z)({},r,e,t)}var j=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,a=r.pure,o=r.areMergedPropsEqual,i=!1;return function(t,r,l){var c=e(t,r,l);return i?a&&o(c,n)||(n=c):(i=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return A}}],M=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function D(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}}function L(e,t,r,n,a){var o,i,l,c,s,d=a.areStatesEqual,u=a.areOwnPropsEqual,p=a.areStatePropsEqual,m=!1;function f(a,m){var f,h,g=!u(m,i),b=!d(a,o);return o=a,i=m,g&&b?(l=e(o,i),t.dependsOnOwnProps&&(c=t(n,i)),s=r(l,c,i)):g?(e.dependsOnOwnProps&&(l=e(o,i)),t.dependsOnOwnProps&&(c=t(n,i)),s=r(l,c,i)):b?(f=e(o,i),h=!p(f,l),l=f,h&&(s=r(l,c,i)),s):s}return function(a,d){return m?f(a,d):(l=e(o=a,i=d),c=t(n,i),s=r(l,c,i),m=!0,s)}}function R(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=(0,p.Z)(t,M),i=r(e,o),l=n(e,o),c=a(e,o);return(o.pure?L:D)(i,l,c,e,o)}var z=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function B(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function q(e,t){return e===t}function U(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?O:r,a=t.mapStateToPropsFactories,o=void 0===a?T:a,i=t.mapDispatchToPropsFactories,l=void 0===i?Z:i,c=t.mergePropsFactories,s=void 0===c?j:c,d=t.selectorFactory,m=void 0===d?R:d;return function(e,t,r,a){void 0===a&&(a={});var i=a,c=i.pure,d=void 0===c||c,f=i.areStatesEqual,h=void 0===f?q:f,g=i.areOwnPropsEqual,b=void 0===g?k:g,v=i.areStatePropsEqual,y=void 0===v?k:v,w=i.areMergedPropsEqual,x=void 0===w?k:w,S=(0,p.Z)(i,z),C=B(e,o,"mapStateToProps"),E=B(t,l,"mapDispatchToProps"),O=B(r,s,"mergeProps");return n(m,(0,u.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:E,initMergeProps:O,pure:d,areStatesEqual:h,areOwnPropsEqual:b,areStatePropsEqual:y,areMergedPropsEqual:x},S))}}var H=U();var W,V=r(73935);W=V.unstable_batchedUpdates,o=W},64352:function(e,t,r){r.d(t,{I4:function(){return i},Ye:function(){return o}});var n=r(67294);function a(e,t){var r=(0,n.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,n.useRef)(!0),o=(0,n.useRef)(r),i=a.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,n.useEffect)((function(){a.current=!1,o.current=i}),[i]),i.result}var o=a,i=function(e,t){return a((function(){return e}),t)}},99122:function(e,t,r){var n=r(15861),a=function(){var e=(0,n.Z)((function*(e){try{return[yield e,null]}catch(t){return[null,t]}}));return function(t){return e.apply(this,arguments)}}();t.Z=a},74772:function(e,t,r){r.d(t,{Q:function(){return c},qg:function(){return u},cP:function(){return f}});var n=r(67294),a=r(53583),o=r(42857),i=r(93175),l=r(95167),c=e=>{var{children:t,className:r,imgType:a,imgId:o,alt:i,isBackground:l}=e;return l?n.createElement(s,{className:r,name:a+"_"+o,isBackground:!0,alt:i},t):n.createElement(d,{className:r},n.createElement(s,{name:a+"_"+o,alt:i}),t)},s=(0,a.default)(i.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),d=a.default.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),u=e=>{var{className:t,id:r}=e,{itemString:a}=(0,o.f)();return n.createElement(p,{className:t,imgType:"item",imgId:r,alt:""},n.createElement(m,null,a.name[r]))},p=(0,a.default)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:0.4rem;user-select:none;}"]),m=a.default.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),f=e=>{var{className:t,children:r,striped:a}=e;return n.createElement(h,{className:t,$striped:a},r)},h=(0,a.default)(l.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})([".MuiTableCell-root{font-size:0.9rem;padding:0.3rem;padding-left:0.75rem;}"])},47233:function(e,t,r){r.d(t,{Ps:function(){return y},ac:function(){return C}});var n=r(45987),a=r(67294),o=r(53583),i=r(33182),l=r(70943),c=r(57783),s=r(42857),d=r(74772),u=r(28437),p=r(5102),m=["available"],f=e=>{var{className:t,id:r}=e,{charString:n}=(0,s.f)();return a.createElement(h,{className:t,imgType:"char_small",imgId:r,alt:"",isBackground:!0},a.createElement(b,null,n.name[r].split(" ").slice(0,-1).join(" ")),a.createElement(g,null,n.name[r].split(" ").slice(-1)[0]))},h=(0,o.default)(d.Q).withConfig({displayName:"CharCard__StyledCard",componentId:"sc-1p8ym1z-0"})(["flex-direction:column;align-items:flex-end;justify-content:space-around;width:100%;min-width:10rem;height:3.6rem;background-repeat:no-repeat;background-size:6rem 6rem;background-position:0 -1.6rem;"]),g=o.default.div.withConfig({displayName:"CharCard__TextWrapper",componentId:"sc-1p8ym1z-1"})(["margin-left:0;margin-right:1rem;transition:all 0.3s ease;text-transform:none;",""],(e=>{var{theme:t}=e;return"\n  text-shadow: 0 0 1px "+t.colors.surface+",\n    -2px 0 1px "+t.colors.surface+",\n    2px 0 1px "+t.colors.surface+",\n    0 -2px 1px "+t.colors.surface+",\n    0 2px 1px "+t.colors.surface+",\n    2px 2px 1px "+t.colors.surface+",\n    2px -2px 1px "+t.colors.surface+",\n    -2px 2px 1px "+t.colors.surface+",\n    -2px -2px 1px "+t.colors.surface+";"})),b=(0,o.default)(g).withConfig({displayName:"CharCard__TitleText",componentId:"sc-1p8ym1z-2"})(["font-size:small;"]),v={TABLE:{"zh-TW":900,en:1300,ja:1300,ko:1300},FILTER:{"zh-TW":1360,en:1360,ja:1460,ko:1360}},y=(0,o.default)(f).attrs((e=>{var{$lang:t,$type:r}=e;return{$textWrapConfig:v[r][t]}})).withConfig({displayName:"CharCard__ResponsiveCharCard",componentId:"sc-1p8ym1z-3"})(["@media screen and (min-width:","px){flex-direction:row;align-items:center;justify-content:flex-start;> div{margin-left:7rem;}> div:last-child{margin-left:-0.6rem;}}"],(e=>{var{$textWrapConfig:t}=e;return t})),w=e=>{var{type:t,tag:r}=e,{charString:n}=(0,s.f)(),o={attribute:u.XV,position:u.$g,race:u.i6,body:u.cp,oppai:u.JU,rank:u.U2,else:u.fP};return a.createElement(i.Z,null,a.createElement(l.Z,null,a.createElement(x,null,a.createElement(S,null,o[t]),n.tags[r])))},x=o.default.div.withConfig({displayName:"CharCard__TagWrapper",componentId:"sc-1p8ym1z-4"})(["display:flex;flex-direction:row;"]),S=o.default.div.withConfig({displayName:"CharCard__IconWrapper",componentId:"sc-1p8ym1z-5"})(["margin-bottom:0.1rem;margin-left:0.25rem;margin-right:0.4rem;> svg{width:1.2rem;fill:",";color:",";}"],(e=>{var{theme:t}=e;return t.colors.secondary}),(e=>{var{theme:t}=e;return t.colors.secondary})),C=e=>{var{id:t}=e,{charString:r}=(0,s.f)(),{tags:o}=p.find((e=>e.id===t)),{available:u}=o,f=(0,n.Z)(o,m);return u?a.createElement(d.cP,{striped:!0},a.createElement(c.Z,null,Object.entries(f).map(((e,t)=>{var[r,n]=e;return"else"===r?n.map((e=>a.createElement(w,{key:e,type:"else",tag:e}))):n>=0?a.createElement(w,{key:n,type:r,tag:n}):null})))):a.createElement(d.cP,{striped:!0},a.createElement(c.Z,null,a.createElement(i.Z,null,a.createElement(l.Z,null,r.tagWarnMsg))))};t.ZP=f},22776:function(e,t,r){r.d(t,{WQ:function(){return f},p2:function(){return v}});var n=r(67294),a=r(53583),o=r(33300),i=r(93818),l=r(8290),c=r(50033),s=r(25072),d=e=>{var{children:t,className:r,title:a,open:c,onClose:s,keepMounted:d,ariaLabelledby:f,ariaDescribedby:h}=e;return n.createElement(o.Z,{className:r,open:c,onClose:s,closeAfterTransition:!0,BackdropComponent:i.Z,BackdropProps:{timeout:500},disableEnforceFocus:!0,keepMounted:d,"aria-labelledby":f,"aria-describedby":h},n.createElement(l.Z,{in:c},n.createElement(u,null,n.createElement(p,{title:a,id:f,end:n.createElement(m,{onClick:s},"Ã—")}),t)))},u=a.default.div.withConfig({displayName:"Modal__ModalContentWrapper",componentId:"sc-o6bkb-0"})(["position:absolute;top:10%;bottom:auto;left:0;right:0;width:70%;@media screen and (max-width:1000px){width:80%;}@media screen and (max-width:768px){width:90%;}height:auto;margin:auto;padding:1rem;background-color:",";color:",";border-radius:0.25rem;border:1px solid ",";"],(e=>{var{theme:t}=e;return t.colors.surface}),(e=>{var{theme:t}=e;return t.colors.onSurface}),(e=>{var{theme:t}=e;return t.colors.border})),p=(0,a.default)(s.Z).withConfig({displayName:"Modal__ModalHeader",componentId:"sc-o6bkb-1"})(["margin:-1rem;margin-bottom:1rem;padding:0.2rem 0.5rem;color:",";background-color:",";"],(e=>{var{theme:t}=e;return t.colors.onSecondary}),(e=>{var{theme:t}=e;return t.colors.secondary})),m=a.default.span.withConfig({displayName:"Modal__CloseWrapper",componentId:"sc-o6bkb-2"})(["cursor:pointer;font-size:x-large;"]),f=e=>{var{children:t,className:r,title:a,open:o,onClose:i,keepMounted:l,ariaLabelledby:s,ariaDescribedby:d}=e;return n.createElement(h,{className:r,title:a,open:o,onClose:i,keepMounted:l,ariaLabelledby:s,ariaDescribedby:d},n.createElement(c.Z,null,t))},h=(0,a.default)(d).withConfig({displayName:"Modal__StyledScrollableModal",componentId:"sc-o6bkb-3"})(["> div:nth-child(3) > div{max-height:calc(80vh - 2rem);}"]),g=e=>{var{content:t,ariaDescribedby:r}=e;return t.map(((e,t)=>n.createElement(n.Fragment,{key:t},n.createElement(s.Z,{title:e.title,border:!0}),n.createElement(b,null,e.content.map(((e,t)=>n.createElement("p",{key:t,id:r+"_"+t},e)))))))},b=a.default.div.withConfig({displayName:"Modal__ModalBody",componentId:"sc-o6bkb-4"})(["margin:1rem 0;"]),v=e=>{var{title:t,content:r,open:a,onClose:o,ariaLabelledby:i,ariaDescribedby:l}=e;return n.createElement(f,{title:t,open:a,onClose:o,ariaLabelledby:i,ariaDescribedby:[...Array(r.length).keys()].map((e=>l+"_"+e)).join(" ")},n.createElement(g,{content:r,ariaDescribedby:l}))};t.ZP=d},60773:function(e,t,r){var n=r(45987),a=r(67294),o=r(53583),i=r(4320),l=r(87987),c=r(42857),s=r(14080),d=r(18572),u=r.n(d),p=r(8223),m=["className","charId","values","mainValue","subValue","onMainChange","onSubChange"],f=o.default.div.withConfig({displayName:"PotentialInput__Wrapper",componentId:"sc-15v3swx-0"})(["position:relative;"]),h=(0,o.default)(s.Z).withConfig({displayName:"PotentialInput__StyledInput",componentId:"sc-15v3swx-1"})(["width:100%;svg{right:0;fill:",";}"],(e=>{var{theme:t,disabled:r}=e;return r?t.colors.dropdownHover:t.colors.onSurface})),g=(0,o.default)(s.P).withConfig({displayName:"PotentialInput__StyledSelect",componentId:"sc-15v3swx-2"})(["margin:0.3rem;"]),b=o.default.span.withConfig({displayName:"PotentialInput__Title",componentId:"sc-15v3swx-3"})(["margin-left:0.4rem;font-size:75%;"]),v=(0,o.default)(i.ZP).withConfig({displayName:"PotentialInput__CheckboxGrid",componentId:"sc-15v3swx-4"})(["&&.Mui-checked svg{fill:",";}"],(e=>{var{theme:t,$type:r}=e;return t.chart.colors["ATK"===r?0:"HP"===r?2:4]})),y=(0,o.default)(l.Z).withConfig({displayName:"PotentialInput__StyledCheckbox",componentId:"sc-15v3swx-5"})(["padding:0;svg{fill:",";}"],(e=>{var{theme:t}=e;return t.colors.dropdownHover})),w=o.default.span.withConfig({displayName:"PotentialInput__Indicator",componentId:"sc-15v3swx-6"})(["display:inline-block;position:relative;top:-0.6rem;width:calc(100% / 6 - 4px);height:4px;margin:0 2px;background-color:",";"],(e=>{var{theme:t,$checked:r,$type:n}=e;return r?t.chart.colors["ATK"===n?0:"HP"===n?2:4]:t.colors.dropdownHover}));t.Z=e=>{var{className:t,charId:r,values:l,mainValue:s,subValue:d,onMainChange:x,onSubChange:S}=e,C=(0,n.Z)(e,m),{colors:E}=(0,o.useTheme)(),{pageString:O}=(0,c.f)(),{potentialType:P}=u()[r],k=p.type[P][s-1],_=k?k.pattern.map((e=>p.itemMap[e].type)):Array(6).fill("ATK");return a.createElement(f,{className:t},a.createElement(h,Object.assign({select:!0,SelectProps:{multiple:!0,value:d,renderValue:()=>s,MenuProps:{PaperProps:{style:{backgroundColor:E.surface}},MenuListProps:{style:{width:"12rem",padding:".5rem",backgroundColor:E.surface,color:E.onSurface},dense:!0}}}},C,{variant:"outlined"}),a.createElement(i.ZP,{container:!0},a.createElement(i.ZP,{item:!0,xs:12},a.createElement(b,null,O.analysis.index.primaryPotentialTitle)),a.createElement(i.ZP,{item:!0,xs:12,component:g,values:l,value:s,onChange:x}),a.createElement(i.ZP,{item:!0,xs:12},a.createElement(b,null,O.analysis.index.secondaryPotentialTitle)),d.map(((e,t)=>a.createElement(v,{item:!0,key:t,xs:2,component:y,checked:e,onChange:S(t),disableRipple:!0,inputProps:{"aria-label":"potential-substage"+t},$type:_[t]}))))),d.map(((e,t)=>a.createElement(w,{$checked:e,key:t,$type:_[t]}))))}},72910:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(67294),a=r(53583),o=r(63366),i=r(87462),l=r(85505),c=r(49408),s=r(87568),d=r(10184),u=r(49240),p=r(90240);function m(e){return(0,p.Z)("MuiListSubheader",e)}(0,r(62194).Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var f=r(85893),h=["className","color","component","disableGutters","disableSticky","inset"],g=(0,s.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"default"!==r.color&&t["color".concat((0,u.Z)(r.color))],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===r.color&&{color:t.palette.primary.main},"inherit"===r.color&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),b=n.forwardRef((function(e,t){var r=(0,d.Z)({props:e,name:"MuiListSubheader"}),n=r.className,a=r.color,s=void 0===a?"default":a,p=r.component,b=void 0===p?"li":p,v=r.disableGutters,y=void 0!==v&&v,w=r.disableSticky,x=void 0!==w&&w,S=r.inset,C=void 0!==S&&S,E=(0,o.Z)(r,h),O=(0,i.Z)({},r,{color:s,component:b,disableGutters:y,disableSticky:x,inset:C}),P=function(e){var t=e.classes,r=e.color,n=e.disableGutters,a=e.inset,o=e.disableSticky,i={root:["root","default"!==r&&"color".concat((0,u.Z)(r)),!n&&"gutters",a&&"inset",!o&&"sticky"]};return(0,c.Z)(i,m,t)}(O);return(0,f.jsx)(g,(0,i.Z)({as:b,className:(0,l.Z)(P.root,n),ref:t,ownerState:O},E))})),v=r(59699),y=r(42857),w=r(14080),x=(0,a.default)(w.Z).withConfig({displayName:"StageSelect__StyledInput",componentId:"sc-iyjsu9-0"})(["margin:0.4rem 0;width:100%;svg{fill:",";}"],(e=>{var{theme:t}=e;return t.colors.onSurface})),S=(0,a.default)(b).withConfig({displayName:"StageSelect__StyledListSubheader",componentId:"sc-iyjsu9-1"})(["color:",";background-color:",";font-size:1rem;font-style:italic;line-height:2rem;"],(e=>{var{theme:t}=e;return t.colors.onSurface}),(e=>{var{theme:t}=e;return t.colors.surface})),C=e=>{var{children:t,className:r,value:o,error:i,handleChange:l}=e,{pageString:c,stageString:s}=(0,y.f)(),{colors:d}=(0,a.useTheme)();return n.createElement(x,{className:r,label:c.team.build.stageSelectLabel,id:"select-stage",onChange:l,select:!0,value:o,SelectProps:{MenuProps:{PaperProps:{style:{backgroundColor:d.surface}},MenuListProps:{style:{backgroundColor:d.surface,color:d.onSurface},dense:!0}}},variant:"outlined",size:"small",inputProps:{"aria-label":"select-stage"},error:i,helperText:i&&c.team.build.stageSelectHelpText},t,s.map((e=>{var t;return[n.createElement(S,{key:e.name},e.name),null===(t=e.stages)||void 0===t?void 0:t.map((t=>n.createElement(v.Z,{value:e.chapter+"/"+t.id,key:t.id},t.id+" : "+t.name))),e.stagePrefix&&[...Array(61).keys()].slice(1).map((t=>n.createElement(v.Z,{value:e.chapter+"/"+e.chapter+"-"+t,key:e.chapter+"-"+t},e.chapter+"-"+t+" : "+e.stagePrefix+t+e.stageSuffix)))]})))}},1446:function(e,t,r){var n=r(4942),a=r(67294),o=r(18572),i=r.n(o);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=e=>{var{rarity:t}=i()[e.id],r=0===t;return{star:{imgNames:"ui_star_"+(3===t?"ssr":2===t?"sr":1===t?"r":"n"),values:[...Array(6).keys()].slice(t),disabled:!1},bond:{imgNames:"ui_bond_"+e.bond,values:[...Array(6).keys()].slice(1),disabled:!1},discipline:{imgNames:"ui_discipline",values:r?["-"]:[...Array(4).keys()],disabled:r},potential:{imgNames:"ui_potentialPassive",values:[...Array(t<2?7:13).keys()].slice(1),disabled:!1},potentialSub:{imgNames:void 0,values:Array(6).fill(!1),disabled:!1}}},d=e=>{if("object"!=typeof e.potentialSub){var t=[...Array(6).keys()].map((t=>t<e.potentialSub));e.potentialSub=t}return e};t.Z=(e,t)=>{var{0:r,1:n}=(0,a.useState)({charState:d(e),selectItems:s(e)}),o=(0,a.useCallback)(((e,a)=>{var o=c({},r.charState),i=a;"level"===e?i=isNaN(a)?"":a<1?1:a>60?60:a:"potentialSub"===e&&((i=Array.from(o.potentialSub))[a]=!i[a]),o[e]=i;var l=s(o);Object.entries(l).forEach((e=>{var[t,r]=e;if("potentialSub"===t)return!0;var n=r.values;n.includes(o[t])||(o[t]=n[0])})),n({charState:o,selectItems:l}),t(o)}),[r,t]),i=(0,a.useCallback)((e=>n({charState:d(e),selectItems:s(e)})),[]);return c(c({},r),{},{setSelect:o,setCharState:i})}},58496:function(e,t,r){var n=r(4942),a=r(15861),o=r(67294),i=r(73935),l=r(53583);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=()=>{var{colors:e}=(0,l.useTheme)(),t=(0,o.useRef)(),{0:s,1:d}=(0,o.useState)(!1),u=function(){var o=(0,a.Z)((function*(a){var{componentRef:o,fileName:l,html2canvasOption:s}=a;if(null==o||!o.current)throw new Error("'componentRef' must be a RefObject");d(!0),null!=t&&t.current||(t.current=(yield r.e(443).then(r.t.bind(r,60217,23))).default);var u,p,m,f=i.findDOMNode(o.current),h=yield t.current(f,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({logging:!1,scrollY:-window.scrollY,useCORS:!0,backgroundColor:e.background},s));yield(u=h.toDataURL("image/jpeg",1),p=l||"component",m=document.createElement("a"),void("string"==typeof m.download?(m.href=u,m.download=p,document.body.appendChild(m),m.click(),document.body.removeChild(m)):window.open(u))),d(!1)}));return function(e){return o.apply(this,arguments)}}();return{isExporting:s,exportImage:u}}},50513:function(e,t,r){r.r(t),r.d(t,{default:function(){return Le}});var n=r(15861),a=r(4942),o=r(67294),i=r(53583),l=r(76968),c=r(82374),s=r(67417),d=r(45987),u=r(29748),p=r(28001),m=r(18572),f=r.n(m),h=e=>{var{rarity:t}=f()[e];return{id:e,level:"",star:e?t:"",bond:1,discipline:e?0===t?"-":0:"",potential:1,potentialSub:Array(6).fill(!1)}},g=["attribute","position","ATK","HP","owned"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=()=>{var{currentTeam:e,isImportingLineup:t,actions:r}=(0,p.q)(),{setCurrentTeam:n}=r,{getLatestLineup:a}=(0,u.H)().actions,i=a(),l=(0,o.useCallback)((e=>{if(t&&i){var r=i.find((t=>t.id===e));if(null!=r&&r.owned){var{attribute:n,position:a,ATK:o,HP:l,owned:c}=r;return v(v({},(0,d.Z)(r,g)),{},{bond:1})}}return h(e)}),[t,i]);return[e,(t,r)=>{var a=Array.from(e.characters);a[r]=v(v({},a[r]),l(t)),n(v(v({},e),{},{characters:a}))}]},w=r(58496),x=r(42857),S=r(6241),C=e=>{var{items:t,renderItem:r,onUpdate:n,droppableId:a}=e,i=(0,o.useCallback)((e=>{var{destination:r,source:a}=e;r&&(r.droppableId===a.droppableId&&r.index===a.index||n(((e,t,r)=>{var n=Array.from(e),[a]=n.splice(t,1);return n.splice(r,0,a),n})(t,a.index,r.index)))}),[t,n]);return o.createElement(S.Z5,{onDragEnd:i},o.createElement(S.bK,{droppableId:a},(e=>o.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),t.map(((e,t)=>o.createElement(S._l,{draggableId:e.key,index:t,key:e.key},((n,a)=>r(e,t,n,a.isDragging))))),e.placeholder))))},E=r(24069),O=r(25072),P=r(22776),k=r(57693),_=r(62583),N=r(14080),I=r(72910),Z=r(59969),T=r.n(Z);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=e=>{if("object"!=typeof e.potentialSub){var t=[...Array(6).keys()].map((t=>t<e.potentialSub));e.potentialSub=t}return T()(j(j({},e),{},{level:""===e.level?"-":e.level,discipline:"-"===e.discipline?0:e.discipline},f()[e.id].stats))},D=e=>{var{0:t,1:r}=(0,o.useState)(M(e));return[t,(0,o.useCallback)((e=>r(M(e))),[])]},L=r(4320),R=r(1446),z=r(93175),B=r(60773),q=e=>{var{type:t,values:r,value:n,onChange:a,disabled:i}=e;return o.createElement(U,{id:"select-"+t,values:r,value:n,onChange:a,variant:"outlined",size:"small",inputProps:{"aria-label":t},disabled:i})},U=(0,i.default)(N.P).withConfig({displayName:"CharStatsSelect__StyledSelect",componentId:"sc-1ypiq0n-0"})(["position:absolute;left:1.6rem;background-color:",";&& .MuiSelect-select{padding:0.1rem 1.5rem 0.1rem 0.4rem;}"],(e=>{var{theme:t}=e;return t.colors.surface})),H=(0,i.default)(L.ZP).withConfig({displayName:"CharStatsSelect__StyledCharStatsSelect",componentId:"sc-1ypiq0n-1"})(["position:absolute;z-index:1;display:flex;flex-wrap:wrap;top:0.6rem;left:calc(14rem + 5%);width:32rem;> div{display:flex;}@media screen and (max-width:1000px){width:28rem;}@media screen and (max-width:768px){left:calc(7rem + 5%);width:26rem;}@media screen and (max-width:599px){top:0.2rem;width:14rem;}"]),W=i.default.label.withConfig({displayName:"CharStatsSelect__StyledLabel",componentId:"sc-1ypiq0n-2"})(["margin:0.4rem 0.4rem 0 0.2rem;"]),V=(0,i.default)(N.Z).withConfig({displayName:"CharStatsSelect__LevelInput",componentId:"sc-1ypiq0n-3"})(["width:100%;height:1.6rem;> div{width:2rem;> input{padding:0.1rem;text-align:center;}}"]),$=(0,i.default)(z.Z).withConfig({displayName:"CharStatsSelect__UiImg",componentId:"sc-1ypiq0n-4"})(["position:relative;width:2.4rem;height:2.4rem;background-repeat:no-repeat;background-size:1.6rem 1.6rem;background-position:0 0.6rem;"]),F=(0,i.default)(B.Z).withConfig({displayName:"CharStatsSelect__StyledPotentialInput",componentId:"sc-1ypiq0n-5"})(["position:absolute;left:1.8rem;span{top:-0.5rem;}&& .MuiSelect-select{padding:0.1rem 1rem 0.1rem 0.4rem;}"]),K=e=>{var{className:t,char:r,levelInputId:n,onSelect:a}=e,{charState:i,selectItems:l,setSelect:c,setCharState:s}=(0,R.Z)(r,a);(0,o.useEffect)((()=>{s(r)}),[r]);var d=e=>t=>c(e,parseInt(t.target.value)),u=e=>()=>c("potentialSub",e);return o.createElement(H,{container:!0,spacing:1,className:t},o.createElement(L.ZP,{item:!0,xs:4,sm:2},o.createElement(W,{htmlFor:n},"Lv"),o.createElement(V,{id:n,value:i.level,onChange:d("level"),variant:"outlined",size:"small",inputProps:{"aria-label":"level"}})),Object.entries(l).map((e=>{var[t,n]=e;return"potential"===t?o.createElement(L.ZP,{item:!0,xs:6,sm:3,component:$,name:n.imgNames,isBackground:!0,alt:t,key:t},o.createElement(F,{charId:r.id,values:n.values,mainValue:i.potential,subValue:i.potentialSub,onMainChange:d("potential"),onSubChange:u})):"potentialSub"!==t&&o.createElement(L.ZP,{item:!0,xs:4,sm:2,component:$,name:n.imgNames,isBackground:!0,alt:t,key:t},o.createElement(q,{type:t,value:i[t],values:n.values,disabled:n.disabled,onChange:d(t)}))})))},Y=r(28437),G=e=>{var{children:t,onClick:r,tooltipText:n}=e;return o.createElement(J,{onClick:r,tooltipText:n},t)},J=(0,i.default)(E.ZP).withConfig({displayName:"CharSlot__StyledButton",componentId:"sc-i791kq-0"})(["width:1.2rem;height:1.2rem;padding:0;margin:0 0.4rem;"]),X=e=>{var{handleChange:t,handleDelete:r}=e,{pageString:n}=(0,x.f)();return o.createElement(Q,null,o.createElement(G,{onClick:t,tooltipText:n.team.build.changeTooltip},Y.XX),o.createElement(G,{onClick:r,tooltipText:n.team.build.deleteTooltip},Y.pJ))},Q=i.default.div.withConfig({displayName:"CharSlot__BtnsWrapper",componentId:"sc-i791kq-1"})(["display:flex;flex-direction:column;justify-content:space-around;position:absolute;z-index:1;top:0;right:1rem;height:calc(100% - 1.6rem);@media screen and (max-width:768px){flex-direction:row;z-index:2;top:auto;bottom:-1.4rem;right:0.4rem;height:auto;}"]),ee=e=>{var{char:t,index:r,handleSelectModalOpen:n,handleCharDelete:a}=e,{currentTeam:i,actions:l}=(0,p.q)(),{setCurrentTeam:c}=l,[s,d]=D(t),{userLanguage:u,charString:m}=(0,x.f)();return(0,o.useEffect)((()=>{d(t)}),[t]),o.createElement(o.Fragment,null,o.createElement(te,{name:"char_small_"+t.id,isBackground:!0,alt:""}),o.createElement(re,{$lang:u},o.createElement("span",null,m.name[t.id].split(" ").slice(0,-1).join(" ")),o.createElement("span",null,m.name[t.id].split(" ").slice(-1)[0])),o.createElement(ne,null,m.tags[f()[t.id].tags.position]),o.createElement(K,{char:t,levelInputId:"level-input-"+r,onSelect:e=>{d(e);var t=JSON.parse(JSON.stringify(i));t.characters[r]=e,c(t)}}),o.createElement(X,{handleChange:n,handleDelete:a}),o.createElement(ae,null,o.createElement("div",null,Y.dR,o.createElement("span",null,isNaN(s.ATK)?"-":s.ATK)),o.createElement("div",null,Y.If,o.createElement("span",null,isNaN(s.HP)?"-":s.HP))))},te=(0,i.default)(z.Z).withConfig({displayName:"CharSlot__SlotCharAvatar",componentId:"sc-i791kq-2"})(["position:relative;z-index:1;left:0;width:calc(4.4rem + 4%);height:5rem;background-repeat:no-repeat;background-size:8rem 8rem;background-position:calc(50% - 1rem) -2rem;background-color:rgba(0,0,0,0);"]),re=i.default.div.withConfig({displayName:"CharSlot__CharName",componentId:"sc-i791kq-3"})(["position:absolute;z-index:1;display:flex;flex-direction:column;align-items:flex-start;top:0.4rem;left:calc(5rem + 4%);font-size:",";transition:all 0.3s ease;> span:first-child{font-size:",";}@media screen and (max-width:768px){align-items:flex-end;left:auto;right:calc(96% - 6.5rem);font-size:",";> span:first-child{font-size:",";}}"],(e=>{var{$lang:t}=e;return"ja"===t?"1.2rem":"x-large"}),(e=>{var{$lang:t}=e;return"ja"===t?".9rem":"medium"}),(e=>{var{$lang:t}=e;return"ja"===t?"1rem":"large"}),(e=>{var{$lang:t}=e;return"ja"===t?".8rem":"small"})),ne=i.default.span.withConfig({displayName:"CharSlot__CharPositionText",componentId:"sc-i791kq-4"})(["position:absolute;z-index:1;bottom:0.1rem;left:calc(9.2rem + 4%);font-size:small;@media screen and (max-width:768px){left:auto;right:calc(96% - 6.5rem);}"]),ae=i.default.div.withConfig({displayName:"CharSlot__CharStats",componentId:"sc-i791kq-5"})(["position:absolute;z-index:1;display:flex;bottom:0;left:calc(14rem + 5%);width:calc(95% - 14rem);height:1.6rem;svg{width:1.2rem;height:1.2rem;fill:",';}span{position:relative;z-index:1;display:inline-block;vertical-align:middle;line-height:normal;margin:0.2rem;}div{margin-right:0.6rem;}div:last-child{margin-right:0;}@media screen and (max-width:768px){bottom:-1.6rem;left:calc(5rem + 5%);width:calc(95% - 6rem);padding-left:1rem;&:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;transform:skew(30deg);transform-origin:0 0;mask:linear-gradient(270deg,transparent 1rem,#000 75%);border:1px solid ',";border-top:none;border-right:none;background:linear-gradient( 270deg,transparent 1rem,"," 75% );}}"],(e=>{var{theme:t}=e;return t.colors.onSurface}),(e=>{var{theme:t}=e;return t.colors.shadow}),(e=>{var{theme:t}=e;return t.colors.shadow+"33"})),oe=o.forwardRef(((e,t)=>{var r,{char:n,provided:a,isDragging:i,index:l,handleSelectModalOpen:c,handleCharDelete:s}=e,{pageString:d}=(0,x.f)();return o.createElement(ie,Object.assign({$colorNumber:null===(r=f()[null==n?void 0:n.id])||void 0===r?void 0:r.tags.attribute,$isDragging:i,$isEmpty:!(null!=n&&n.id)},a.draggableProps,a.dragHandleProps,{ref:t}),null!=n&&n.id?o.createElement(ee,{char:n,index:l,handleSelectModalOpen:c,handleCharDelete:s}):o.createElement(le,{onClick:c},o.createElement(ce,null,d.team.build.emptySlotText)))})),ie=i.default.div.withConfig({displayName:"CharSlot__StyledSlot",componentId:"sc-i791kq-6"})(["position:relative;z-index:1;left:0.6rem;right:0;width:calc(100% - 0.5rem);height:5rem;margin:0 0 0.6rem;span{white-space:pre;",'}&:before{content:"";position:absolute;left:-0.6rem;height:100%;width:0;border:0.25rem solid transparent;border-right:0.4rem solid ',";border-left:0;",' transition:border 0.3s ease;}&:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border:1px solid ',";border-left:none;border-right:none;"," background-size:100% 200%;clip-path:",";}&:hover{:before{border-top:none;border-bottom:none;}:after{background-size:100% 100%;}}@media screen and (max-width:768px){margin:0 0 ","rem;&:after{clip-path:none;}&:hover > div:last-child:after{background:",";}}"],(e=>{var{theme:t}=e;return"\n    text-shadow: 0 0 1px "+t.colors.surface+",\n      -2px 0 1px "+t.colors.surface+",\n      2px 0 1px "+t.colors.surface+",\n      0 -2px 1px "+t.colors.surface+",\n      0 2px 1px "+t.colors.surface+",\n      2px 2px 1px "+t.colors.surface+",\n      2px -2px 1px "+t.colors.surface+",\n      -2px 2px 1px "+t.colors.surface+",\n      -2px -2px 1px "+t.colors.surface+";"}),(e=>{var{theme:t,$colorNumber:r}=e;return void 0!==r?t.chart.colors[r]:t.colors.dropdownHover}),(e=>{var{$isDragging:t}=e;return t?"border-top: none;\n        border-bottom: none;":""}),(e=>{var{theme:t}=e;return t.colors.shadow+"80"}),(e=>{var{theme:t,$isDragging:r}=e;return"\n    background: linear-gradient(\n      180deg,\n      "+(r?t.colors.surface:t.colors.shadow+"0D")+",\n      "+(r?t.colors.shadow:t.colors.shadow+"66")+"\n    );"}),(e=>{var{$isEmpty:t}=e;return t?"none":"polygon(\n            0 0,\n            100% 0,\n            100% calc(100% - 1.6rem),\n            calc(14rem + 5%) calc(100% - 1.6rem),\n            calc(12.6rem + 5%) 100%,0 100%\n        )"}),(e=>{var{$isEmpty:t}=e;return t?".6":"2.2"}),(e=>{var{theme:t}=e;return t.colors.shadow+"4D"})),le=(0,i.default)(l.Z).withConfig({displayName:"CharSlot__EmptySlotContent",componentId:"sc-i791kq-7"})(['position:absolute;z-index:1;width:100%;height:100%;font-family:inherit;&:before{position:absolute;z-index:1;top:50%;left:calc(0.2rem + 2%);content:"+";color:',';font-size:4rem;line-height:0;text-align:center;text-shadow:none;}&:after{position:absolute;z-index:1;top:0;left:0;content:"";width:8rem;height:100%;background:linear-gradient( 90deg,rgba(255,255,255,0.25) 25%,transparent );}'],(e=>{var{theme:t}=e;return t.colors.shadow})),ce=i.default.span.withConfig({displayName:"CharSlot__TextWrapper",componentId:"sc-i791kq-8"})(["position:absolute;left:calc(5rem + 4%);font-size:x-large;color:",";@media screen and (max-width:768px){left:calc(3.2rem + 3%);font-size:large;}"],(e=>{var{theme:t}=e;return t.colors.shadow})),se=oe,de=r(47233),ue=r(99122);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=r(5102).reduce(((e,t)=>(e[3-t.rarity].push({id:t.id}),e)),[...Array(4)].map((e=>[]))),he=["ssr","sr","r","n"],ge=e=>{var{open:t,onClose:r,handleSelect:n}=e,{pageString:a}=(0,x.f)();return o.createElement(be,{title:a.team.build.selectModalTitle,open:t,onClose:r,keepMounted:!0,ariaLabelledby:"character-select-modal"},fe.map(((e,t)=>o.createElement(o.Fragment,{key:t},o.createElement(ve,{titleIcon:o.createElement(ye,{name:"ui_rarity_"+he[t],alt:he[t]}),border:!0}),o.createElement(we,null,e.map((e=>o.createElement(xe,{onClick:n(e.id),key:e.id},o.createElement(Se,{id:e.id})))))))))},be=(0,i.default)(P.WQ).withConfig({displayName:"build__StyledModal",componentId:"sc-9mytr3-0"})(["> div:nth-child(3){top:5%;width:90%;}"]),ve=(0,i.default)(O.Z).withConfig({displayName:"build__RarityHeader",componentId:"sc-9mytr3-1"})(["margin-bottom:0.4rem;span{display:flex;align-items:center;}"]),ye=(0,i.default)(z.Z).withConfig({displayName:"build__RarityImgWrapper",componentId:"sc-9mytr3-2"})(["width:3rem;"]),we=i.default.div.withConfig({displayName:"build__RarityChars",componentId:"sc-9mytr3-3"})(["display:flex;flex-wrap:wrap;margin:0 -0.4rem 0 -1rem;"]),xe=(0,i.default)(l.Z).withConfig({displayName:"build__CharButton",componentId:"sc-9mytr3-4"})(["padding:0;color:",";"],(e=>{var{theme:t}=e;return t.colors.onSurface})),Se=(0,i.default)(de.ZP).withConfig({displayName:"build__ModalCharCard",componentId:"sc-9mytr3-5"})(["min-width:0;width:8.8rem;margin:0.2rem;"]),Ce=(e,t)=>{switch(t.type){case"OPEN_MODAL_AND_SELECT":return me(me({},e),{},{didModalMounted:!0,isSelectModalOpen:!0,slotIndex:t.slotIndex});case"CLOSE_MODAL":return me(me({},e),{},{isSelectModalOpen:!1,slotIndex:null});default:throw new Error("Unknown action type: "+t.type)}},Ee=()=>{var{didLoad:e,actions:t}=(0,p.q)(),{setCurrentTeam:r}=t,[n,a]=y(),{0:i,1:l}=(0,o.useReducer)(Ce,{didModalMounted:!1,isSelectModalOpen:!1,slotIndex:null}),c=function(e,t){return void 0===t&&(t=null),()=>{a(e,null===t?i.slotIndex:t),l({type:"CLOSE_MODAL"})}};return o.createElement(o.Fragment,null,e&&o.createElement(C,{items:n.characters,renderItem:(e,t,r,n)=>o.createElement(se,{char:e,index:t,provided:r,isDragging:n,ref:r.innerRef,handleSelectModalOpen:()=>l({type:"OPEN_MODAL_AND_SELECT",slotIndex:t}),handleCharDelete:c(null,t)}),onUpdate:e=>r(me(me({},n),{},{characters:e})),droppableId:"character-list"}),i.didModalMounted&&o.createElement(ge,{open:i.isSelectModalOpen,onClose:()=>l({type:"CLOSE_MODAL"}),handleSelect:c}))},Oe=e=>{var{open:t,onClose:r,isUploading:n,handleUpload:a}=e,{pageString:i}=(0,x.f)(),{0:l,1:c}=(0,o.useState)({chapter:"",stage:"",author:"",description:"",isStageValid:!1,isAuthorValid:!1,isDescriptionValid:!0}),s=e=>t=>{var r;if("stage"===e){var n=t.target.value.split("/");r=me(me({},l),{},{chapter:n[0],stage:n[1]})}else r=me(me({},l),{},{[e]:t.target.value});c(me(me({},r),{},{isStageValid:""!==r.stage,isAuthorValid:r.author.length>0&&r.author.length<51,isDescriptionValid:r.description.length<=400}))};return o.createElement(be,{title:i.team.build.uploadTooltip,open:t,onClose:r,ariaLabelledby:"upload-modal-title",ariaDescribedby:"upload-modal-description"},o.createElement(I.Z,{value:""===l.chapter?"":l.chapter+"/"+l.stage,error:!l.isStageValid,handleChange:s("stage")}),o.createElement(Pe,{id:"author-input",value:l.author,onChange:s("author"),label:i.team.build.authorInputLabel,placeholder:i.team.build.authorInputPlaceholder,variant:"outlined",size:"small",inputProps:{"aria-label":"author-description"},error:!l.isAuthorValid,helperText:!l.isAuthorValid&&i.team.build.authorInputHelpText}),o.createElement(Pe,{id:"team-description-input",value:l.description,onChange:s("description"),label:i.team.build.descriptionInputLabel,placeholder:i.team.build.descriptionInputPlaceholder,variant:"outlined",size:"small",multiline:!0,rows:3,inputProps:{"aria-label":"team-description"},error:!l.isDescriptionValid,helperText:!l.isDescriptionValid&&i.team.build.descriptionInputHelpText}),o.createElement(ke,null,i.team.build.uploadMsg.map(((e,t)=>o.createElement("li",{key:t},e)))),o.createElement(_e,null,o.createElement(Ne,{$isValid:l.isStageValid&&l.isAuthorValid&&l.isDescriptionValid,onClick:l.isStageValid&&l.isAuthorValid&&l.isDescriptionValid?a({chapter:l.chapter,stage:l.stage,author:l.author,description:l.description}):null},n?o.createElement(Ie,{size:24,thickness:6,disableShrink:!0}):i.team.build.uploadButton),o.createElement(Ne,{onClick:r},i.team.build.cancelButton)))},Pe=(0,i.default)(N.Z).withConfig({displayName:"build__StyledInput",componentId:"sc-9mytr3-6"})(["margin:0.4rem 0;width:100%;svg{fill:",";}textarea{font-size:small;}"],(e=>{var{theme:t}=e;return t.colors.onSurface})),ke=i.default.ul.withConfig({displayName:"build__MessageBox",componentId:"sc-9mytr3-7"})(["margin:0;padding:0.5rem 0 0 1rem;color:",";font-size:small;"],(e=>{var{theme:t}=e;return t.colors.onSurface})),_e=i.default.div.withConfig({displayName:"build__ButtonBox",componentId:"sc-9mytr3-8"})(["display:flex;align-items:center;justify-content:flex-end;&& > button:last-child{margin-right:0;background-color:",";}"],(e=>{var{theme:t}=e;return t.colors.dropdownHover})),Ne=(0,i.default)(l.Z).withConfig({displayName:"build__StyledButton",componentId:"sc-9mytr3-9"})(["margin:0.5rem 0.5rem 0 0.5rem;&,&:hover{background-color:",";color:#fff;}&:hover{box-shadow:inset 0 0 20rem #fff1;}"],(e=>{var{theme:t,$isValid:r}=e;return t.colors.success+(r?"":"80")})),Ie=(0,i.default)(c.Z).withConfig({displayName:"build__StyledSpinner",componentId:"sc-9mytr3-10"})(["display:block;margin:auto;color:",";"],(e=>{var{theme:t}=e;return t.colors.blue})),Ze=(e,t)=>{switch(t.type){case"OPEN_MODAL":return me(me({},e),{},{isModalOpen:!0});case"START_UPLOAD":return me(me({},e),{},{isUploading:!0});case"UPLOAD_SUCCESS":return me(me({},e),{},{isModalOpen:!1,isUploading:!1,isUploadSnackbarOpen:!0});case"UPLOAD_FAIL":return me(me({},e),{},{isUploading:!1,isUploadSnackbarOpen:!0});case"COPY_LINK":return navigator.clipboard.writeText(e.shareLink),me(me({},e),{},{isCopySnackbarOpen:!0});case"SET_LINK":return me(me({},e),{},{shareLink:t.link});case"HANDLE_MODAL":return me(me({},e),{},{isModalOpen:t.open});case"HANDLE_ERROR_SNACKBAR":return me(me({},e),{},{isErrorSnackbarOpen:t.open});case"CLOSE_COPY_SNACKBAR":return me(me({},e),{},{isCopySnackbarOpen:!1});case"CLOSE_UPLOAD_SNACKBAR":return me(me({},e),{},{isUploadSnackbarOpen:!1});default:throw new Error("unknown action type: "+t.type)}},Te=e=>{var{isExporting:t,handleExport:a}=e,{pageString:i}=(0,x.f)(),{currentTeam:l,actions:c}=(0,p.q)(),{setCurrentTeam:s}=c,{0:d,1:u}=(0,o.useReducer)(Ze,{shareLink:"loading...",isUploading:!1,isModalOpen:!1,isCopySnackbarOpen:!1,isUploadSnackbarOpen:!1,isErrorSnackbarOpen:!1}),m=(0,o.useRef)(),f=function(){var e=(0,n.Z)((function*(){null!=m&&m.current||(m.current=yield Promise.all([r.e(972),r.e(846)]).then(r.bind(r,58846)));var e=new URL(window.location.href);e.searchParams.set("team",JSON.stringify(l));var[t,n]=yield(0,ue.Z)(m.current.getShortLink(e.href));u(t?{type:"SET_LINK",link:t}:{type:"HANDLE_ERROR_SNACKBAR",open:!0})}));return function(){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement(Ae,{title:o.createElement(N.Z,{id:"team-name-input",value:l?l.name:"",onChange:e=>{var{target:t}=e;s(me(me({},l),{},{name:t.value}))},label:o.createElement("span",{"data-html2canvas-ignore":"true"},i.team.build.nameInputLabel),placeholder:i.team.build.nameInputPlaceholder,variant:"outlined",size:"small",inputProps:{"aria-label":"team-name"}}),end:o.createElement(o.Fragment,null,o.createElement(E.ZP,{onClick:()=>u({type:"HANDLE_MODAL",open:!0}),tooltipText:i.team.build.uploadTooltip,dataHtml2canvasIgnore:!0},Y.Tl),o.createElement(k.Z,{button:o.createElement(E.ZP,{tooltipText:i.team.build.shareTooltip,dataHtml2canvasIgnore:!0},Y.aA),buttonOnClick:f,items:[{id:"share-button"}],renderItem:()=>o.createElement(o.Fragment,null,o.createElement(je,{href:d.shareLink,target:"_blank",rel:"noreferrer"},d.shareLink),o.createElement(E.ZP,{onClick:()=>u({type:"COPY_LINK"}),tooltipText:i.team.build.copyTooltip},Y.TI)),disableItemButton:!0,ariaId:"share-menu"}),o.createElement(E.j3,{onClick:a,isLoading:t}))}),o.createElement(Oe,{open:d.isModalOpen,onClose:()=>u({type:"HANDLE_MODAL",open:!1}),isUploading:d.isUploading,handleUpload:e=>(0,n.Z)((function*(){if(!d.isUploading){u({type:"START_UPLOAD"}),null!=m&&m.current||(m.current=yield Promise.all([r.e(972),r.e(846)]).then(r.bind(r,58846)));var t=JSON.parse(JSON.stringify(l)),n=60;"S"===e.chapter&&(n=parseInt(e.stage.slice(2))+19),"E"===e.chapter&&"Ex"===e.stage.slice(0,2)&&(n=10*parseInt(e.stage.slice(-1))+20),t.characters.forEach((e=>{!isNaN(parseInt(e.level))&&parseInt(e.level)>n&&(e.level=n)}));var[a,o]=yield(0,ue.Z)(m.current.teamCollection.add(me(me(me({},e),t),{},{time:m.current.Timestamp.now()})));u(o?{type:"UPLOAD_FAIL"}:{type:"UPLOAD_SUCCESS"})}}))}),o.createElement(_.Z,{open:d.isCopySnackbarOpen,onClose:()=>u({type:"CLOSE_COPY_SNACKBAR"}),message:i.team.build.copySnackbarMsg,type:"success"}),o.createElement(_.Z,{open:d.isUploadSnackbarOpen,onClose:()=>u({type:"CLOSE_UPLOAD_SNACKBAR"}),message:i.team.build.uploadSnackbarMsg,type:"success"}),o.createElement(_.Z,{open:d.isErrorSnackbarOpen,onClose:()=>u({type:"HANDLE_ERROR_SNACKBAR",open:!1}),message:i.team.build.unknownError,type:"error"}))},Ae=(0,i.default)(O.Z).withConfig({displayName:"build__StyledHeader",componentId:"sc-9mytr3-11"})(["position:relative;left:-1rem;width:100%;height:auto;margin:0;padding:0 0 0 1rem;border:none;label{margin-right:0.6rem;font-size:large;text-transform:none;}> div:first-child{max-width:50%;}> div:last-child{position:relative;display:flex;bottom:-0.2rem;right:-1rem;}"]),je=i.default.a.withConfig({displayName:"build__StyledA",componentId:"sc-9mytr3-12"})(["margin-right:0.4rem;color:",";text-decoration:none;&:hover{color:",";}"],(e=>{var{theme:t}=e;return t.colors.link}),(e=>{var{theme:t}=e;return t.colors.linkHover})),Me=i.default.div.withConfig({displayName:"build__ExportWrapper",componentId:"sc-9mytr3-13"})(["max-width:1000px;margin:-1.5rem calc(50% - 500px - 1rem);padding:1rem;padding-top:1.5rem;@media screen and (max-width:1064px){margin:-1.5rem -0.8rem 0 -0.8rem;}"]),De=(0,i.default)(s.Z).withConfig({displayName:"build__StyledDivider",componentId:"sc-9mytr3-14"})(["margin:0.5rem 0;background-color:",";"],(e=>{var{theme:t}=e;return t.colors.dropdownHover})),Le=()=>{var{pageString:e}=(0,x.f)(),{currentTeam:t}=(0,p.q)(),r=(0,o.useRef)(),{isExporting:n,exportImage:a}=(0,w.Z)();return o.createElement(Me,{ref:r},o.createElement(Te,{isExporting:n,handleExport:()=>a({componentRef:r,fileName:t.name?t.name:"team-composition"})}),o.createElement(De,null),o.createElement(Ee,null))}}}]);
//# sourceMappingURL=component---src-pages-team-build-js-2ba57d1cb638f89960b9.js.map
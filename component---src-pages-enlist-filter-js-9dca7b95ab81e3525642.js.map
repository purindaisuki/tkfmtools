{"version":3,"sources":["webpack://tkfmtools/./src/components/Card.js","webpack://tkfmtools/./src/components/CharCard.js","webpack://tkfmtools/./src/components/ResultTablePanel.js","webpack://tkfmtools/./src/components/recruitment-filter/table-head.js","webpack://tkfmtools/./src/components/recruitment-filter/table-body.js","webpack://tkfmtools/./src/components/recruitment-filter/result-table.js","webpack://tkfmtools/./src/pages/enlist/filter.js"],"names":["StyledImg","styled","ImageSupplier","ImgWrapper","ImgCard","children","className","imgType","imgId","alt","isBackground","name","ItemImg","TextWrapper","ItemCard","id","itemString","useLanguage","StyledTable","Table","CardTable","striped","$striped","StyledCard","props","theme","colors","surface","TitleText","CharCard","charString","split","slice","join","ResponsiveCharCard","$textWrapConfig","TagWrapper","IconWrapper","secondary","CharTr","type","tag","attrIcons","attribute","AttributeIcon","position","PositionIcon","race","RaceIcon","body","BodysizeIcon","oppai","OppaiIcon","rank","RankIcon","else","ElseIcon","tags","CharAccordionDetail","charData","char","available","rest","Object","entries","map","entry","ind","key","tagWarnMsg","TableWrapper","Scrollable","$maxHeight","StyledSortableTable","SortableTable","data","head","sortFunc","defaultSortKey","handleModalOpen","maxHeight","headerEnd","pageString","title","items","drop","filter","resultTitle","withHelp","onClickHelp","end","border","TableHead","enlist","tableHead","item","CellWrapper","TableCell","onSurface","TableBody","sortedData","d","i","padding","CardRow","characters","character","rarity","CharacterImage","Card","dropdownHover","shadow","ResultTablePanel","filteredData","Header","stickyHeader","size","combinations","TagButtonGroup","value","onChange","layoutConfig","groupRange","ToggleButtonGroup","tagData","t","Array","range","keys","BtnGroupWrapper","AttributeChip","StyledChip","$lang","btnLayoutConfig","1400","1160","1000","768","580","0","1260","1080","550","355","1460","1250","1030","630","430","365","TagPanel","filterBtnValue","handleBtnGroupChange","groupBtnByClass","userLanguage","label","tagAttributes","v","StyledHeader","StyledSelect","Select","CharFilterPanel","clearBtnValue","enlistHour","handleEnlistHourChange","useState","minute","setMinute","tagSelectTitle","titleIcon","TagIcon","onClick","tooltipText","deleteTooltip","DeleteIcon","settingTooltip","SettingIcon","timeSelectTitle","ClockIcon","values","variant","inputProps","e","target","requestSort","getSortDirection","tableHeadByCharacter","attr","direction","DistinctCharacterTooltip","withStyles","tooltip","right","fontSize","whiteSpace","Tooltip","TagTooltip","distinctTexts","distinctTagCombs","comb","guaranteeSRTexts","guaranteeSRTagCombs","texts","length","guaranteeSR","TransitionComponent","Zoom","placement","arrow","CharCardWrapper","MarksContainer","MarkIconWrapper","cardTextWrapConfig","StarIcon","appliedTags","StyledModal","ScrollableModal","SettingModal","open","onClose","filterLayout","resultLayout","handleLayoutChange","settingModal","ariaLabelledby","ariaDescribedby","RadioGroup","groupLabel","labels","handleChange","resultDisplay","resultLabels","elements","num","remaining","next","calcMinCombs","inputTags","currCombs","combs","from","j","every","includes","splice","push","isHelpModalOpen","isSettingModalOpen","isSnackbarOpen","state","setState","useSwitch","window","innerWidth","btnLayout","layout","setBtnLayout","setLayout","setReslutLayout","availableCharacters","useMemo","elseTags","otherTags","getCharsByTags","useCallback","survivors","rarityCheck","sortableItems","sortConfig","sort","a","b","aKey","bKey","sortedTags","dataLayer","result","Math","min","forEach","existedRarity","score","fill","c","reduce","s","exist","existChar","find","isGuaranteeSR","handelHelpModal","boolean","handleSettingModal","Head","helmet","description","path","Panels","panelsWidth","groupIdx","event","val","newValue","groupValues","concat","indexOf","helpModal","content","Snackbar","message","snackbarMsg"],"mappings":"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","file":"component---src-pages-enlist-filter-js-9dca7b95ab81e3525642.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport ImageSupplier from 'components/ImageSupplier';\r\nimport Table from 'components/Table';\r\n\r\nconst StyledImg = styled(ImageSupplier)`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-repeat: no-repeat;\r\n`\r\nconst ImgWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nexport const ImgCard = ({\r\n    children,\r\n    className,\r\n    imgType,\r\n    imgId,\r\n    alt,\r\n    isBackground\r\n}) => (\r\n    isBackground\r\n        ? <StyledImg\r\n            className={className}\r\n            name={`${imgType}_${imgId}`}\r\n            isBackground\r\n            alt={alt}\r\n        >\r\n            {children}\r\n        </StyledImg>\r\n        : <ImgWrapper className={className}>\r\n            <StyledImg\r\n                name={`${imgType}_${imgId}`}\r\n                alt={alt}\r\n            />\r\n            {children}\r\n        </ImgWrapper>\r\n)\r\n\r\nconst ItemImg = styled(ImgCard)`\r\n    > div:first-child {\r\n        width: 2.5rem;\r\n        height: 2.5rem;\r\n        margin-right: .4rem;\r\n        user-select: none;\r\n    }\r\n`\r\nconst TextWrapper = styled.div`\r\n    white-space: nowrap;\r\n    font-size: medium;\r\n    font-weight: normal;\r\n`\r\nexport const ItemCard = ({\r\n    className,\r\n    id\r\n}) => {\r\n    const { itemString } = useLanguage()\r\n\r\n    return (\r\n        <ItemImg\r\n            className={className}\r\n            imgType='item'\r\n            imgId={id}\r\n            alt=''\r\n        >\r\n            <TextWrapper>\r\n                {itemString.name[id]}\r\n            </TextWrapper>\r\n        </ItemImg>\r\n    )\r\n}\r\n\r\nconst StyledTable = styled(Table)`\r\n    && .MuiTableCell-root  {\r\n        font-size: .9rem;\r\n        padding: .3rem;\r\n        padding-left: .75rem;\r\n    }\r\n`\r\nexport const CardTable = ({\r\n    className,\r\n    children,\r\n    striped\r\n}) => (\r\n    <StyledTable\r\n        className={className}\r\n        $striped={striped}\r\n    >\r\n        {children}\r\n    </StyledTable>\r\n)\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n    TableBody as MuiTableBody,\r\n    TableRow as MuiTableRow,\r\n    TableCell as MuiTableCell\r\n} from '@material-ui/core';\r\n\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport { ImgCard, CardTable } from 'components/Card';\r\nimport {\r\n    AttributeIcon,\r\n    PositionIcon,\r\n    RaceIcon,\r\n    BodysizeIcon,\r\n    OppaiIcon,\r\n    RankIcon,\r\n    ElseIcon,\r\n} from 'components/icon';\r\n\r\nimport charData from 'data/character.json';\r\n\r\nconst StyledCard = styled(ImgCard)`\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    justify-content: space-around;\r\n    width: 100%;\r\n    min-width: 10rem;\r\n    height: 3.6rem;\r\n    background-repeat: no-repeat;\r\n    background-size: 6rem 6rem;\r\n    background-position: 0 -1.6rem;\r\n`\r\nconst TextWrapper = styled.div`\r\n    margin-left: 0;\r\n    margin-right: 1rem;\r\n    transition: all 0.3s ease;\r\n    text-transform: none;\r\n    text-shadow: 0 0 1px ${props => props.theme.colors.surface},\r\n    -2px 0 1px  ${props => props.theme.colors.surface},\r\n    2px 0 1px  ${props => props.theme.colors.surface},\r\n    0 -2px 1px ${props => props.theme.colors.surface},\r\n    0 2px 1px  ${props => props.theme.colors.surface},\r\n    2px 2px 1px ${props => props.theme.colors.surface},\r\n    2px -2px 1px ${props => props.theme.colors.surface},\r\n    -2px 2px 1px ${props => props.theme.colors.surface},\r\n    -2px -2px 1px ${props => props.theme.colors.surface};\r\n`\r\nconst TitleText = styled(TextWrapper)`\r\n    font-size: small;\r\n`\r\nconst CharCard = ({\r\n    className,\r\n    id\r\n}) => {\r\n    const { charString } = useLanguage()\r\n\r\n    return (\r\n        <StyledCard\r\n            className={className}\r\n            imgType='char_small'\r\n            imgId={id}\r\n            alt=''\r\n            isBackground\r\n        >\r\n            <TitleText>\r\n                {charString.name[id].split(' ').slice(0, -1).join(' ')}\r\n            </TitleText>\r\n            <TextWrapper>\r\n                {charString.name[id].split(' ').slice(-1)[0]}\r\n            </TextWrapper>\r\n        </StyledCard>\r\n    )\r\n}\r\n\r\nexport const ResponsiveCharCard = styled(CharCard)`\r\n    @media screen and (min-width: ${props => (\r\n        props.$textWrapConfig\r\n    )}px) {\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        > div {\r\n            margin-left: 7rem\r\n        }\r\n        > div:last-child {\r\n            margin-left: -.6rem;\r\n        }\r\n    }\r\n`\r\n\r\nconst TagWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n`\r\nconst IconWrapper = styled.div`\r\n    margin-bottom: .1rem;\r\n    margin-left: .25rem;\r\n    margin-right: .4rem;\r\n    > svg {\r\n        width: 1.2rem;\r\n        fill: ${props => props.theme.colors.secondary};\r\n        color:  ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst CharTr = ({\r\n    type,\r\n    tag\r\n}) => {\r\n    const { charString } = useLanguage()\r\n\r\n    const attrIcons = {\r\n        attribute: AttributeIcon,\r\n        position: PositionIcon,\r\n        race: RaceIcon,\r\n        body: BodysizeIcon,\r\n        oppai: OppaiIcon,\r\n        rank: RankIcon,\r\n        else: ElseIcon\r\n    }\r\n\r\n    return (\r\n        <MuiTableRow>\r\n            <MuiTableCell>\r\n                <TagWrapper>\r\n                    <IconWrapper>\r\n                        {attrIcons[type]}\r\n                    </IconWrapper>\r\n                    {charString.tags[tag]}\r\n                </TagWrapper>\r\n            </MuiTableCell>\r\n        </MuiTableRow>\r\n    )\r\n}\r\n\r\nexport const CharAccordionDetail = ({ id }) => {\r\n    const { charString } = useLanguage()\r\n\r\n    const { tags } = charData.find(char => char.id === id)\r\n    const { available, ...rest } = tags\r\n\r\n    if (!available) {\r\n        return (\r\n            <CardTable striped>\r\n                <MuiTableBody>\r\n                    <MuiTableRow>\r\n                        <MuiTableCell>\r\n                            {charString.tagWarnMsg}\r\n                        </MuiTableCell>\r\n                    </MuiTableRow>\r\n                </MuiTableBody>\r\n            </CardTable>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <CardTable striped>\r\n            <MuiTableBody>\r\n                {Object.entries(rest).map((entry, ind) => (\r\n                    entry[0] === 'else'\r\n                        ? entry[1].map(tag => (\r\n                            <CharTr\r\n                                key={tag}\r\n                                type='else'\r\n                                tag={tag}\r\n                            />\r\n                        ))\r\n                        : entry[1] >= 0\r\n                            ? <CharTr\r\n                                key={entry[1]}\r\n                                type={entry[0]}\r\n                                tag={entry[1]}\r\n                            />\r\n                            : null\r\n                ))}\r\n            </MuiTableBody>\r\n        </CardTable>\r\n    )\r\n}\r\n\r\nexport default CharCard","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Scrollable from 'containers/Scrollable';\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport Header from 'components/Header';\r\nimport SortableTable from 'components/SortableTable';\r\n\r\nconst TableWrapper = styled(Scrollable)`\r\n    max-height: ${props => props.$maxHeight};\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n`\r\nconst StyledSortableTable = styled(SortableTable)`\r\n    img {\r\n        width: 1.8rem; height: 1.8rem;\r\n    }\r\n    td {\r\n        padding-left: .75rem;\r\n    }\r\n`\r\nconst ResultTablePanel = ({\r\n    data,\r\n    head,\r\n    body,\r\n    sortFunc,\r\n    defaultSortKey,\r\n    handleModalOpen,\r\n    maxHeight,\r\n    striped,\r\n    headerEnd,\r\n}) => {\r\n    const { pageString } = useLanguage()\r\n\r\n    return (<>\r\n        <Header\r\n            title={pageString.items.drop.filter.resultTitle}\r\n            withHelp\r\n            onClickHelp={handleModalOpen}\r\n            end={headerEnd}\r\n            border\r\n        />\r\n        <TableWrapper $maxHeight={maxHeight}>\r\n            <StyledSortableTable\r\n                data={data}\r\n                head={head}\r\n                body={body}\r\n                sortFunc={sortFunc}\r\n                defaultSortKey={defaultSortKey}\r\n                striped={striped}\r\n            />\r\n        </TableWrapper>\r\n    </>)\r\n}\r\n\r\nexport default ResultTablePanel","import React from \"react\";\r\nimport { useLanguage } from \"containers/LanguageProvider\";\r\nimport {\r\n  TableHead as MuiTableHead,\r\n  TableRow as MuiTableRow,\r\n  TableCell,\r\n} from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const TableHead = (props) => {\r\n  const { pageString } = useLanguage();\r\n\r\n  return (\r\n    <MuiTableHead>\r\n      <MuiTableRow>\r\n        {pageString.enlist.filter.tableHead.map((item, ind) => (\r\n          <CellWrapper key={ind}>{item.title}</CellWrapper>\r\n        ))}\r\n      </MuiTableRow>\r\n    </MuiTableHead>\r\n  );\r\n};\r\n\r\nconst CellWrapper = styled(TableCell)`\r\n  && {\r\n    background-color: ${(props) => props.theme.colors.surface};\r\n    color: ${(props) => props.theme.colors.onSurface};\r\n    user-select: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { useLanguage } from \"containers/LanguageProvider\";\r\n\r\nimport {\r\n  TableBody as MuiTableBody,\r\n  TableRow as MuiTableRow,\r\n  TableCell as MuiTableCell,\r\n} from \"@material-ui/core\";\r\n\r\nimport { ImgCard } from \"components/Card\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\nexport const TableBody = ({ sortedData }) => {\r\n  const { charString } = useLanguage();\r\n\r\n  return (\r\n    <MuiTableBody>\r\n      {sortedData.map((d, i) => (\r\n        <MuiTableRow key={i}>\r\n          <MuiTableCell padding='none'>{i + 1}</MuiTableCell>\r\n          <MuiTableCell>\r\n            <TextWrapper>\r\n              {d.tags.map((i) => charString.tags[i]).join(\", \")}\r\n            </TextWrapper>\r\n          </MuiTableCell>\r\n          <MuiTableCell>\r\n            <CardRow>\r\n              {d.characters.map((character) => (\r\n                <Card rarity={character.rarity} key={character.id}>\r\n                  <CharacterImage\r\n                    rarity={character.rarity}\r\n                    imgType=\"char_small\"\r\n                    imgId={character.id}\r\n                    alt=\"\"\r\n                  />\r\n                  {charString.name[character.id].split(\" \").slice(-1)[0]}\r\n                </Card>\r\n              ))}\r\n            </CardRow>\r\n          </MuiTableCell>\r\n        </MuiTableRow>\r\n      ))}\r\n    </MuiTableBody>\r\n  );\r\n};\r\n\r\nconst TextWrapper = styled.span`\r\n  word-break: keep-all;\r\n  white-space: break-spaces;\r\n  @media screen and (max-width: 600px) {\r\n    font-size: small;\r\n  }\r\n`;\r\nconst CardRow = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 3rem;\r\n\r\n  padding: 1px 8px 1px 1px;\r\n  margin: 4px;\r\n\r\n  background-color:${props => props.theme.colors.dropdownHover + '40'};\r\n  box-shadow: 2px 2px 2px 1px ${props => props.theme.colors.dropdownHover + '80'};\r\n  border-radius: 3rem;\r\n  color: ${props => props.theme.colors.onSurface};\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: small;\r\n  }\r\n`;\r\n\r\nconst CharacterImage = styled(ImgCard)`\r\n  margin-right: 2px;\r\n  \r\n  > div:first-child {\r\n    width: 3rem;\r\n    height: 3rem;\r\n    border-radius: 100%;\r\n    border: 2.5px solid ${props =>\r\n    props.rarity < 2\r\n      ? props.theme.colors.shadow\r\n      : props.theme.colors.secondary};\r\n  }\r\n\r\n  img {\r\n    border: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Scrollable from \"containers/Scrollable\";\r\nimport { useLanguage } from \"containers/LanguageProvider\";\r\n\r\nimport Table from \"components/Table\";\r\n\r\nimport Header from 'components/Header';\r\nimport { TableHead } from \"./table-head\";\r\nimport { TableBody } from \"./table-body\";\r\n\r\nexport const ResultTablePanel = (props) => {\r\n  const { pageString } = useLanguage();\r\n  const { filteredData, handleModalOpen, maxHeight, striped } = props;\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        title={pageString.items.drop.filter.resultTitle}\r\n        withHelp\r\n        onClickHelp={handleModalOpen}\r\n        border\r\n      />\r\n      <TableWrapper $maxHeight={maxHeight}>\r\n        <StyledTable stickyHeader $striped={striped} size=\"small\">\r\n          <TableHead />\r\n          <TableBody sortedData={filteredData} />\r\n        </StyledTable>\r\n      </TableWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nconst TableWrapper = styled(Scrollable)`\r\n  max-height: ${(props) => props.$maxHeight};\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  @media screen and (max-width: 1000px) {\r\n    overflow-y: hidden;\r\n  }\r\n`;\r\n\r\nconst StyledTable = styled(Table)`\r\n  td {\r\n    padding-left: 0.75rem;\r\n  }\r\n`;\r\n","import React, { useState, useMemo, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n    TableHead as MuiTableHead,\r\n    TableBody as MuiTableBody,\r\n    TableRow as MuiTableRow,\r\n    TableCell as MuiTableCell,\r\n    Tooltip, Zoom\r\n} from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport useSwitch from 'hooks/useSwitch';\r\n\r\nimport Panels from 'containers/Panels';\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport { ResultTablePanel } from 'components/recruitment-filter';\r\nimport ResultTablePanelByCharacter from 'components/ResultTablePanel'\r\nimport Head from 'components/Head';\r\nimport { SortableTh } from 'components/SortableTable';\r\nimport Header from 'components/Header';\r\nimport { HeaderIconButton } from 'components/IconButton';\r\nimport { StyledChip } from 'components/Chip';\r\nimport ToggleButtonGroup, { ToggleButton } from 'components/ToggleButtonGroup';\r\nimport { Select } from 'components/Input';\r\nimport { ResponsiveCharCard } from 'components/CharCard';\r\nimport { ScrollableModal, TextModal } from 'components/Modal';\r\nimport RadioGroup, { Radio } from 'components/RadioGroup';\r\nimport Snackbar from 'components/Snackbar';\r\nimport {\r\n    DeleteIcon,\r\n    TagIcon,\r\n    ClockIcon,\r\n    AttributeIcon,\r\n    PositionIcon,\r\n    RaceIcon,\r\n    BodysizeIcon,\r\n    OppaiIcon,\r\n    RankIcon,\r\n    ElseIcon,\r\n    StarIcon,\r\n    SettingIcon\r\n} from 'components/icon';\r\n\r\nimport tagData from 'data/tag.json';\r\nimport charData from 'data/character.json';\r\n\r\nconst TagButtonGroup = ({\r\n    value,\r\n    onChange,\r\n    layoutConfig,\r\n    groupRange\r\n}) => {\r\n    const { charString } = useLanguage()\r\n\r\n    const attrIcons = {\r\n        attribute: AttributeIcon,\r\n        position: PositionIcon,\r\n        race: RaceIcon,\r\n        body: BodysizeIcon,\r\n        oppai: OppaiIcon,\r\n        rank: RankIcon,\r\n        else: ElseIcon\r\n    }\r\n\r\n    return (\r\n        <ToggleButtonGroup\r\n            value={value}\r\n            onChange={onChange}\r\n            layoutConfig={layoutConfig}\r\n        >\r\n            {tagData.slice(groupRange[0], groupRange[1]).map(t =>\r\n                [...Array(t.range[1]).keys()].slice(t.range[0]).map(id => (\r\n                    <ToggleButton\r\n                        value={id}\r\n                        key={id}\r\n                    >\r\n                        {attrIcons[t.type]}\r\n                        {charString.tags[id]}\r\n                    </ToggleButton>\r\n                ))\r\n            )}\r\n        </ToggleButtonGroup>\r\n    )\r\n}\r\n\r\nconst BtnGroupWrapper = styled.div`\r\n    position: relative;\r\n    padding: .5rem;\r\n    padding-top: .8rem;\r\n    margin: 1rem 0;\r\n    border-radius: .25rem;\r\n    border: 1px solid ${props => props.theme.colors.secondary};\r\n    background-color: ${props => props.theme.colors.surface};\r\n`\r\nconst AttributeChip = styled(StyledChip)`\r\n    && {\r\n        position: absolute;\r\n        z-index: 1;\r\n        top: -.6rem;\r\n        width: ${props => props.$lang === 'en' ? '4.5rem' : 'auto'};\r\n        background-color: brown;\r\n        color: white;\r\n    }\r\n`\r\nconst btnLayoutConfig = {\r\n    'en': {\r\n        1400: 5,\r\n        1160: 4,\r\n        1000: 3,\r\n        768: 4,\r\n        580: 3,\r\n        0: 2\r\n    },\r\n    'zh-TW': {\r\n        1260: 6,\r\n        1080: 5,\r\n        1000: 4,\r\n        768: 5,\r\n        550: 4,\r\n        355: 3,\r\n        0: 2\r\n    },\r\n    'ja': {\r\n        1460: 6,\r\n        1250: 5,\r\n        1030: 4,\r\n        1000: 3,\r\n        768: 5,\r\n        630: 4,\r\n        430: 3,\r\n        0: 2\r\n    },\r\n    'ko': {\r\n        1260: 6,\r\n        768: 5,\r\n        550: 4,\r\n        365: 3,\r\n        0: 2\r\n    }\r\n}\r\n\r\nconst TagPanel = ({\r\n    filterBtnValue,\r\n    handleBtnGroupChange,\r\n    groupBtnByClass\r\n}) => {\r\n    const { userLanguage, charString } = useLanguage()\r\n\r\n    return (\r\n        <div>\r\n            {groupBtnByClass\r\n                ? tagData.map((t, ind) => (\r\n                    <BtnGroupWrapper key={ind}>\r\n                        <AttributeChip label={charString.tagAttributes[t.type]} $lang={userLanguage} />\r\n                        <TagButtonGroup\r\n                            value={filterBtnValue.filter(v => v >= t.range[0] && v < t.range[1])}\r\n                            onChange={handleBtnGroupChange(ind)}\r\n                            layoutConfig={btnLayoutConfig[userLanguage]}\r\n                            groupRange={[ind, ind + 1]}\r\n                        />\r\n                    </BtnGroupWrapper>\r\n                ))\r\n                : <BtnGroupWrapper>\r\n                    <TagButtonGroup\r\n                        value={filterBtnValue}\r\n                        onChange={handleBtnGroupChange()}\r\n                        layoutConfig={btnLayoutConfig[userLanguage]}\r\n                        groupRange={[0, 7]}\r\n                    />\r\n                </BtnGroupWrapper>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst StyledHeader = styled(Header)`\r\n    padding-bottom: .4rem;\r\n`\r\nconst IconWrapper = styled.div`\r\n    svg {\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n        margin-right: .4rem;\r\n        margin-bottom: .2rem;\r\n        fill: ${props => props.theme.colors.onSurface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n    }\r\n`\r\nconst StyledSelect = styled(Select)`\r\n    && > div > div {\r\n        padding-right: 1.4rem;\r\n    }\r\n`\r\nconst CharFilterPanel = ({\r\n    clearBtnValue,\r\n    filterBtnValue,\r\n    enlistHour,\r\n    handleBtnGroupChange,\r\n    handleEnlistHourChange,\r\n    handleModalOpen,\r\n    groupBtnByClass\r\n}) => {\r\n    const { pageString } = useLanguage()\r\n\r\n    const [minute, setMinute] = useState('00')\r\n\r\n    return (<>\r\n        <Header\r\n            title={pageString.enlist.filter.tagSelectTitle}\r\n            titleIcon={TagIcon}\r\n            end={\r\n                <>\r\n                    <HeaderIconButton\r\n                        onClick={clearBtnValue}\r\n                        tooltipText={pageString.enlist.filter.deleteTooltip}\r\n                    >\r\n                        {DeleteIcon}\r\n                    </HeaderIconButton>\r\n                    <HeaderIconButton\r\n                        onClick={handleModalOpen}\r\n                        tooltipText={pageString.enlist.filter.settingTooltip}\r\n                    >\r\n                        {SettingIcon}\r\n                    </HeaderIconButton>\r\n                </>\r\n            }\r\n            border\r\n        />\r\n        <TagPanel\r\n            filterBtnValue={filterBtnValue}\r\n            handleBtnGroupChange={handleBtnGroupChange}\r\n            groupBtnByClass={groupBtnByClass}\r\n        />\r\n        <StyledHeader\r\n            title={pageString.enlist.filter.timeSelectTitle}\r\n            titleIcon={ClockIcon}\r\n            border\r\n        />\r\n        <StyledSelect\r\n            values={[...Array(10).keys()].slice(1)}\r\n            value={enlistHour}\r\n            variant='outlined'\r\n            size='small'\r\n            inputProps={{ 'aria-label': 'recruitment-hour' }}\r\n            onChange={handleEnlistHourChange}\r\n        />\r\n        {'ï¼š'}\r\n        <StyledSelect\r\n            values={['00', '10', '20', '30', '40', '50']}\r\n            value={minute}\r\n            variant='outlined'\r\n            size='small'\r\n            inputProps={{ 'aria-label': 'recruitment-minute' }}\r\n            onChange={e => setMinute(e.target.value)}\r\n        />\r\n    </>)\r\n}\r\n\r\nconst TableHead = ({ requestSort, getSortDirection }) => {\r\n    const { pageString } = useLanguage()\r\n\r\n    return (\r\n        <MuiTableHead>\r\n            <MuiTableRow>\r\n                {pageString.enlist.filter.tableHeadByCharacter\r\n                    .map((item, ind) => (\r\n                        <SortableTh\r\n                            key={ind}\r\n                            onClick={() => requestSort(item.attr)}\r\n                            direction={getSortDirection(item.attr)}\r\n                        >\r\n                            {item.title}\r\n                        </SortableTh>\r\n                    ))}\r\n            </MuiTableRow>\r\n        </MuiTableHead>\r\n    )\r\n}\r\n\r\nconst DistinctCharacterTooltip = withStyles({\r\n    tooltip: {\r\n        right: '0',\r\n        fontSize: '1rem',\r\n        whiteSpace: 'pre'\r\n    }\r\n})(Tooltip)\r\n\r\nconst TagTooltip = ({ children, char }) => {\r\n    const { charString, pageString } = useLanguage()\r\n\r\n    const distinctTexts = char.distinctTagCombs\r\n        .map(comb => comb.map(i => charString.tags[i]).join(', '))\r\n        .join('\\n')\r\n\r\n    const guaranteeSRTexts = char.guaranteeSRTagCombs\r\n        .map(comb => comb.map(i => charString.tags[i]).join(', '))\r\n        .join('\\n')\r\n\r\n    const texts = guaranteeSRTexts.length === 0 ? distinctTexts\r\n        : distinctTexts.length === 0 ? pageString.enlist.filter.guaranteeSR + ':\\n' + guaranteeSRTexts\r\n            : distinctTexts + '\\n' + pageString.enlist.filter.guaranteeSR + ':\\n' + guaranteeSRTexts\r\n\r\n    return (\r\n        <DistinctCharacterTooltip\r\n            title={texts}\r\n            TransitionComponent={Zoom}\r\n            placement='bottom'\r\n            arrow\r\n        >\r\n            {children}\r\n        </DistinctCharacterTooltip >\r\n    )\r\n}\r\n\r\nconst CharCardWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-start;\r\n    margin-left: -.75rem;\r\n    width: max-content;\r\n`\r\nconst MarksContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n`\r\nconst MarkIconWrapper = styled(IconWrapper)`\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n        width: 1rem;\r\n        height: 1rem;\r\n        margin: .1rem 0 .1rem -.6rem;\r\n    }\r\n`\r\nconst parseRarity = (rarity) => (\r\n    rarity === 0 ? 'N'\r\n        : rarity === 1 ? 'R'\r\n            : rarity === 2 ? 'SR'\r\n                : 'SSR'\r\n)\r\n\r\nconst cardTextWrapConfig = {\r\n    'zh-TW': 1360,\r\n    'en': 1360,\r\n    'ja': 1460,\r\n    'ko': 1360,\r\n}\r\n\r\nfunction TableBody({ sortedData }) {\r\n    const { userLanguage, charString } = useLanguage()\r\n\r\n    return (\r\n        <MuiTableBody>\r\n            {sortedData.map(char => (\r\n                <MuiTableRow key={char.id}>\r\n                    <MuiTableCell>\r\n                        <TagTooltip char={char}>\r\n                            <CharCardWrapper>\r\n                                <ResponsiveCharCard\r\n                                    id={char.id}\r\n                                    $textWrapConfig={\r\n                                        cardTextWrapConfig[userLanguage]\r\n                                    }\r\n                                />\r\n                                <MarksContainer>\r\n                                    {char.distinctTagCombs.length !== 0\r\n                                        ? <MarkIconWrapper>{StarIcon}</MarkIconWrapper>\r\n                                        : null\r\n                                    }\r\n                                    {char.guaranteeSRTagCombs.length !== 0\r\n                                        ? <MarkIconWrapper>{TagIcon}</MarkIconWrapper>\r\n                                        : null\r\n                                    }\r\n                                </MarksContainer>\r\n                            </CharCardWrapper>\r\n                        </TagTooltip>\r\n                    </MuiTableCell>\r\n                    <MuiTableCell>{parseRarity(char.rarity)}</MuiTableCell>\r\n                    <MuiTableCell>\r\n                        {char.appliedTags\r\n                            .map(i => charString.tags[i]).join(', ')}\r\n                    </MuiTableCell>\r\n                </MuiTableRow>\r\n            ))}\r\n        </MuiTableBody>\r\n    )\r\n}\r\n\r\nconst StyledModal = styled(ScrollableModal)`\r\n    > div:nth-child(3) {\r\n        top: 25%;\r\n        width: 30%;\r\n        min-width: max-content;\r\n    }\r\n`\r\nconst SettingModal = ({\r\n    open,\r\n    onClose,\r\n    filterLayout,\r\n    resultLayout,\r\n    handleLayoutChange\r\n}) => {\r\n    const { pageString } = useLanguage()\r\n\r\n    return (\r\n        <StyledModal\r\n            title={pageString.enlist.filter.settingModal.title}\r\n            open={open}\r\n            onClose={onClose}\r\n            ariaLabelledby='setting-modal-title'\r\n            ariaDescribedby='setting-modal-description'\r\n        >\r\n            <RadioGroup\r\n                label={pageString.enlist.filter.settingModal.groupLabel}\r\n                value={pageString.enlist.filter.settingModal.labels[filterLayout]}\r\n                handleChange={handleLayoutChange('filter')}\r\n            >\r\n                {pageString.enlist.filter.settingModal\r\n                    .labels.map(label => (\r\n                        <Radio label={label} value={label} key={label} />\r\n                    ))}\r\n            </RadioGroup>\r\n            <RadioGroup\r\n                label={pageString.enlist.filter.settingModal.resultDisplay}\r\n                value={pageString.enlist.filter.settingModal.resultLabels[resultLayout]}\r\n                handleChange={handleLayoutChange('result')}\r\n            >\r\n                {pageString.enlist.filter.settingModal\r\n                    .resultLabels.map(label => (\r\n                        <Radio label={label} value={label} key={label} />\r\n                    ))}\r\n            </RadioGroup>\r\n        </StyledModal>\r\n    )\r\n}\r\n\r\nfunction* combinations(elements, num) {\r\n    for (let i = 0; i < elements.length; i++) {\r\n        if (num === 1)\r\n            yield [elements[i]]\r\n        else {\r\n            const remaining = combinations(\r\n                elements.slice(i + 1, elements.length),\r\n                num - 1\r\n            )\r\n            for (let next of remaining)\r\n                yield [elements[i], ...next]\r\n        }\r\n    }\r\n}\r\n\r\n// check if every input tags are in target tags\r\nconst checkTags = (inputTags, targetTags) =>\r\n    targetTags.every((v) => inputTags.includes(v));\r\n\r\n// calculate priority score\r\nconst calculateScore = (characters) => {\r\n    // 3 - SSR, 2 - SR, 1 - R, 0 - N\r\n    const existedRarity = Array(4).fill(false);\r\n\r\n    characters.forEach((c) => {\r\n        existedRarity[c.rarity] = true;\r\n    });\r\n\r\n    return existedRarity.reduce(\r\n        (s, exist, ind) => s += exist ? (ind - 1.4) * (ind + 1) : 0,\r\n        0\r\n    )\r\n};\r\n\r\nconst calcMinCombs = (inputTags, currCombs) => {\r\n    let combs = Array.from(currCombs)\r\n    for (let j = combs.length - 1; j >= 0; j--) {\r\n        if (inputTags.every(t => combs[j].includes(t))) {\r\n            combs.splice(j, 1)\r\n        }\r\n    }\r\n    combs.push(inputTags)\r\n    return combs\r\n}\r\n\r\nconst Filter = () => {\r\n    const [state, setState] = useState({\r\n        filterBtnValue: [],\r\n        enlistHour: '9',\r\n        isHelpModalOpen: false,\r\n        isSettingModalOpen: false,\r\n        isSnackbarOpen: false,\r\n    })\r\n\r\n    const { layout: btnLayout, setLayout: setBtnLayout } = useSwitch(\r\n        'group-btns-by-class',\r\n        [0, 1],\r\n        (typeof window === 'undefined' || window.innerWidth <= 1000) ? 1 : 0\r\n    )\r\n\r\n    const { layout: resultLayout, setLayout: setReslutLayout } = useSwitch(\r\n        'show-filter-result-by',\r\n        [0, 1],\r\n        0\r\n    )\r\n\r\n    const { pageString, charString } = useLanguage()\r\n\r\n    // get data from json only once (empty dependency), they are character available for recruiting\r\n    const availableCharacters = useMemo(() => charData\r\n        .filter((char) => char.tags.available)\r\n        .map((char) => {\r\n            const { id, rarity, tags } = char;\r\n            const { else: elseTags, ...otherTags } = tags;\r\n            return {\r\n                id,\r\n                rarity,\r\n                tags: [...Object.values(otherTags), ...elseTags],\r\n            };\r\n        }), [])\r\n\r\n    const getCharsByTags = useCallback((tags) => {\r\n        // shallow copy is enough as we didn't change anything in object\r\n        let survivors = Array.from(availableCharacters);\r\n\r\n        // rarity filtering\r\n        // 20 -> Leader Tag\r\n        if (!tags.includes(20)) {\r\n            // 19 -> Elite Tag\r\n            const rarityCheck = state.enlistHour < 4 && !tags.includes(19) ? 2 : 3;\r\n            survivors = survivors.filter((char) => char.rarity < rarityCheck);\r\n        }\r\n\r\n        // tags filtering\r\n        return survivors.filter((d) => checkTags(d.tags, tags));\r\n    }, [state.enlistHour])\r\n\r\n    const sortFunc = useCallback((sortableItems, sortConfig) => {\r\n        sortableItems.sort((a, b) => {\r\n            let aKey\r\n            let bKey\r\n            if (sortConfig.key === 'appliedTags') {\r\n                aKey = a[sortConfig.key].join('')\r\n                bKey = b[sortConfig.key].join('')\r\n            } else if (sortConfig.key === 'name') {\r\n                aKey = charString.name[a.id]\r\n                bKey = charString.name[b.id]\r\n            } else {\r\n                aKey = a[sortConfig.key]\r\n                bKey = b[sortConfig.key]\r\n            }\r\n            if (aKey < bKey) {\r\n                return sortConfig.direction === 'asc' ? -1 : 1\r\n            }\r\n            if (aKey > bKey) {\r\n                return sortConfig.direction === 'asc' ? 1 : -1\r\n            }\r\n            return 0\r\n        })\r\n    }, [charString])\r\n\r\n    const filteredData = useMemo(() => {\r\n        if (state.filterBtnValue.length === 0)\r\n            return []\r\n\r\n        const sortedTags = [...state.filterBtnValue].sort()\r\n\r\n        if (dataLayer && sortedTags.length === 5) {\r\n            dataLayer.push({\r\n                'event': 'five_tags_selected',\r\n                'character_tag_combination': sortedTags,\r\n            })\r\n        }\r\n\r\n        // 0 -> Filter and display by character, 1 -> Filter and group by tags\r\n        if (resultLayout === 1) {\r\n            // type = Array<string, { tags: Array<number>, characters: { id: string, rarity: number, tags: Array<number> }, score: number }>\r\n            const result = [];\r\n\r\n            // max length of combination is 3\r\n            const combinationLength = Math.min(sortedTags.length, 3);\r\n\r\n            for (let i = combinationLength; i > 0; i--) {\r\n                const tagCombination = Array.from(combinations(sortedTags, i));\r\n\r\n                tagCombination.forEach((tags) => {\r\n                    const survivors = getCharsByTags(tags);\r\n\r\n                    // put data into result\r\n                    if (survivors.length > 0) {\r\n                        result.push({\r\n                            tags,\r\n                            characters: survivors,\r\n                            score: calculateScore(survivors),\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            // return the sorted data by score\r\n            return result.sort((a, b) => b.score - a.score);\r\n        } else {\r\n            const result = []\r\n            for (let i = sortedTags.length; i > 0; i--) {\r\n                // generate combinations\r\n                const tagCombs = Array.from(combinations(sortedTags, i))\r\n                // screen out ineligible characters\r\n                tagCombs.forEach(tags => {\r\n                    const survivors = getCharsByTags(tags);\r\n\r\n                    if (survivors.length === 1 && tags.length <= 3) {\r\n                        const existChar = result.find(c => c.id === survivors[0].id)\r\n                        if (existChar) {\r\n                            existChar.distinctTagCombs = calcMinCombs(\r\n                                tags,\r\n                                existChar.distinctTagCombs\r\n                            )\r\n                        } else {\r\n                            result.push({\r\n                                id: survivors[0].id,\r\n                                rarity: survivors[0].rarity,\r\n                                appliedTags: tags,\r\n                                distinctTagCombs: [tags],\r\n                                guaranteeSRTagCombs: []\r\n                            })\r\n                        }\r\n                    } else {\r\n                        const isGuaranteeSR = tags.length <= 3 &&\r\n                            survivors.every(char => char.rarity === 2)\r\n\r\n                        survivors.forEach(char => {\r\n                            const existChar = result.find(c => c.id === char.id)\r\n                            if (!existChar) {\r\n                                result.push({\r\n                                    id: char.id,\r\n                                    rarity: char.rarity,\r\n                                    appliedTags: tags,\r\n                                    distinctTagCombs: [],\r\n                                    guaranteeSRTagCombs: isGuaranteeSR ? [tags] : []\r\n                                })\r\n                            } else if (isGuaranteeSR) {\r\n                                existChar.guaranteeSRTagCombs = calcMinCombs(\r\n                                    tags,\r\n                                    existChar.guaranteeSRTagCombs\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n            return result\r\n        }\r\n    }, [state.filterBtnValue, state.enlistHour, resultLayout])\r\n\r\n    const handleEnlistHourChange = (event) => {\r\n        setState((state) => ({\r\n            ...state,\r\n            enlistHour: event.target.value\r\n        }))\r\n    }\r\n\r\n    const handleBtnGroupChange = (groupIdx) => (event, val) => {\r\n        let newValue\r\n        if (typeof (groupIdx) !== 'undefined') {\r\n            const groupValues = tagData.map(t =>\r\n                state.filterBtnValue.filter(v => v >= t.range[0] && v < t.range[1])\r\n            )\r\n            groupValues[groupIdx] = val\r\n            newValue = [].concat(...groupValues)\r\n        } else {\r\n            newValue = val\r\n        }\r\n\r\n        if (newValue.length > 5) {\r\n            setState((state) => ({\r\n                ...state,\r\n                isSnackbarOpen: true\r\n            }))\r\n            return\r\n        }\r\n\r\n        setState((state) => ({\r\n            ...state,\r\n            filterBtnValue: newValue\r\n        }))\r\n    }\r\n\r\n    const clearBtnValue = () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            filterBtnValue: []\r\n        }))\r\n    }\r\n\r\n    const handelHelpModal = (boolean) => () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isHelpModalOpen: boolean,\r\n        }))\r\n    }\r\n\r\n    const handleSettingModal = (boolean) => () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isSettingModalOpen: boolean,\r\n        }))\r\n    }\r\n\r\n    const handleLayoutChange = (key) => (event) => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isSettingModalOpen: false,\r\n        }))\r\n\r\n        if (key === 'filter') {\r\n            setBtnLayout(\r\n                pageString.enlist.filter.settingModal.labels\r\n                    .indexOf(event.target.value)\r\n            )\r\n        } else if (key === 'result') {\r\n            setReslutLayout(\r\n                pageString.enlist.filter.settingModal.resultLabels\r\n                    .indexOf(event.target.value)\r\n            )\r\n        }\r\n    }\r\n\r\n    const handleSnackbarClose = () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isSnackbarOpen: false,\r\n        }))\r\n    }\r\n\r\n    return (<>\r\n        <Head\r\n            title={pageString.enlist.filter.helmet.title}\r\n            description={pageString.enlist.filter.helmet.description}\r\n            path='/enlist/filter/'\r\n        />\r\n        <Panels panelsWidth={['60%', '40%']}>\r\n            <CharFilterPanel\r\n                handleBtnGroupChange={handleBtnGroupChange}\r\n                clearBtnValue={clearBtnValue}\r\n                enlistHour={state.enlistHour}\r\n                handleEnlistHourChange={handleEnlistHourChange}\r\n                filterBtnValue={state.filterBtnValue}\r\n                handleModalOpen={handleSettingModal(true)}\r\n                groupBtnByClass={btnLayout === 0}\r\n            />\r\n            {resultLayout === 1 ? <ResultTablePanel\r\n                filteredData={filteredData}\r\n                handleModalOpen={handelHelpModal(true)}\r\n                maxHeight={btnLayout === 0 ? 'calc(100vh - 5rem)' : 'calc(100vh - 16rem)'}\r\n                striped\r\n            /> : <ResultTablePanelByCharacter\r\n                data={filteredData}\r\n                head={<TableHead />}\r\n                body={<TableBody />}\r\n                sortFunc={sortFunc}\r\n                defaultSortKey='rarity'\r\n                handleModalOpen={handelHelpModal(true)}\r\n                maxHeight={btnLayout === 0 ? 'calc(100vh - 5rem)' : 'calc(100vh - 16rem)'}\r\n                striped\r\n            />}\r\n\r\n        </Panels>\r\n        <SettingModal\r\n            open={state.isSettingModalOpen}\r\n            onClose={handleSettingModal(false)}\r\n            filterLayout={btnLayout}\r\n            resultLayout={resultLayout}\r\n            handleLayoutChange={handleLayoutChange}\r\n        />\r\n        <TextModal\r\n            title={pageString.enlist.filter.helpModal.title}\r\n            open={state.isHelpModalOpen}\r\n            onClose={handelHelpModal(false)}\r\n            content={pageString.enlist.filter.helpModal.content}\r\n            ariaLabelledby='help-modal-title'\r\n            ariaDescribedby='help-modal-description'\r\n        />\r\n        <Snackbar\r\n            open={state.isSnackbarOpen}\r\n            onClose={handleSnackbarClose}\r\n            message={pageString.enlist.filter.snackbarMsg}\r\n            type='warn'\r\n        />\r\n    </>)\r\n}\r\n\r\nexport default Filter"],"sourceRoot":""}
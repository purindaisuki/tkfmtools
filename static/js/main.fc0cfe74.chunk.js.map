{"version":3,"sources":["components/LanguageProvider.js","components/Icon.js","components/MyAccordion.js","components/Navbars.js","components/Theme.js","components/SiteAccordionBody.js","pages/Home.js","components/FilterComponents.js","components/CharFilter.js","components/MyMasonry.js","components/ItemShowcase.js","components/CharShowcase.js","components/PageWithTabs.js","components/ItemFilter.js","components/CharPotential.js","routes.js","pages/Enlist.js","pages/Potential.js","components/ToTopBtn.js","App.js","index.js"],"names":["stringDataList","LanguageContext","createContext","userLanguage","stringData","LanguageProvider","children","useState","localSetting","localStorage","getItem","lang","navigator","language","test","getDefaultLanguage","setUserLanguage","provider","toLanguage","window","setItem","Provider","value","ToolIcon","xmlns","enableBackground","viewBox","fill","height","width","transform","x","y","d","HomeIcon","EnlistIcon","ChestIcon","points","LinkIcon","FeedbackIcon","MenuIcon","ExpandMoreIcon","OverviewIcon","FilterIcon","ClearIcon","version","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ToTopIcon","HelpIcon","TagIcon","ClockIcon","TypeIcon","cx","cy","r","CategoryIcon","RaceIcon","BodysizeIcon","OppaiIcon","RankIcon","ElseIcon","StarIcon","AlertIcon","CalcIcon","ItemIcon","BuffIcon","LanguageIcon","TableViewIcon","MasonryViewIcon","NewBadge","React","useContext","pill","variant","home","updateLog","new","FixBadge","fix","ChangeBadge","change","StyledAccordion","styled","Accordion","props","theme","colors","surface","onSurface","secondary","MyAccordion","expanded","onChange","square","AccordionSummary","expandIcon","title","AccordionDetails","content","StyledLanguageSwitcher","DropdownButton","onPrimary","primary","shadow","dropdownHover","onSecondary","LanguageSwitcher","onSelect","key","event","bsPrefix","menuAlign","Dropdown","Item","eventKey","StyledMainNavBar","Navbar","ThemeSwitcherLabel","label","Slider","span","slider","switcher","iconOffest","iconUrl","ThemeSwitcherSwither","input","MenuBtn","Brand","Text","div","Svg","MainNavbar","path","exec","location","documentTitle","slice","name","href","onClick","toggleSidebar","Nav","className","handleLanguage","type","checked","toggleTheme","onKeyDown","StyledDrawer","Drawer","SidebarHeader","SiderbarList","ListGroup","SiderbarItem","StyledLink","Link","Sidebar","open","onClose","to","icon","enlist","potential","map","item","idx","SidebarAccordions","navbar","links","AccordionWrapper","AccordionItem","link","linkHover","isExpanded","setExpanded","as","target","description","lightTheme","background","error","onBackground","onError","border","secondaryBorder","process","darkTheme","BodyContainer","DescriptionContainer","li","DescriptionHeader","DescriptionBody","SiteDescription","about","Body","rel","refItem","text","header","LogMsg","msg","Badge","MsgBox","SiteUpdateLog","LicenseList","ul","LicenseItemTitle","LicenseItemContent","SiteLicense","license","titleLink","licenseLink","HomeContainer","Header","StyledFilterPanel","widthConfig","default","FilterPanel","StyledContainerHeader","ContainerHeader","end","ModalContainer","ModalContentWrapper","ModalHeader","ModalBody","HelpModal","HelpModalContent","CloseBtn","handleModalClose","Modal","modalOpen","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","aria-labelledby","aria-describedby","Fade","in","ResultTableContainer","ResultTableWrapper","StyledResultTable","Table","IconWrapper","ResultTable","items","config","direction","sortConfig","setSortConfig","sortedItems","useMemo","sortableItems","sortFunc","requestSort","sortedResult","useSortableData","result","filter","resultTitle","handleModalOpen","striped","borderless","size","cloneElement","getSortDirection","length","undefined","modalContent","StyledToggleButtonGroup","ToggleButtonGroup","Object","entries","$layoutConfig","entry","StyledToggleButton","ToggleButton","Select","Form","Control","CharFilterPanel","attrIcons","category","race","body","oppai","rank","else","btnLayoutConfig","990","768","624","410","0","1360","992","tagSelectTitle","filterBy","filterBtnValue","tagData","characters","tags","id","timeSelectTitle","inline","Group","custom","defaultValue","handleEnlistHour","Array","keys","i","SortTh","th","StarIconWrapper","TableContent","TagTooltip","char","distinctTagCombs","texts","comb","join","Tooltip","TransitionComponent","Zoom","arrow","tableHead","attr","grade","appliedTags","FilterContainer","CharFilter","enlistHour","isSnackbarOpen","state","setState","useCallback","val","combinations","curVal","sort","filteredChars","from","forEach","survivors","JSON","parse","stringify","charData","includes","appliedTagsNum","tag","c","isExist","existChar","j","every","t","splice","push","elements","num","remaining","next","f","useEffect","setModalOpen","Snackbar","autoHideDuration","prevState","anchorOrigin","vertical","horizontal","message","snackbarMsg","action","a","b","aKey","bKey","modal","StyledMasonry","Masonry","MyMasonry","breakpointCols","columnClassName","ImgWrapper","img","StyledHeader","ItemCardHeader","src","alt","EnergyIconWrapper","CardBodyContnet","drop","chapter","stage","rarity","energy","StyledTable","ItemCardBody","ItemCard","ItemShowcase","1200","data","TextWrapper","$lang","$img","CardHeader","split","TagWrapper","CardBody","tagWarnMsg","charTagData","CharCard","TableWrapper","CharTable","tagAttributes","nowrap","colSpan","values","LayoutBtnContainer","StyledBtn","IconButton","$active","ShowcaseContainer","$hidden","CharShowcase","layout","setLayout","handleLayoutChange","toLayout","TabPanel","StyledTabs","Tabs","PageWithTabs","parseInt","tab","setTab","document","toTab","tabs","Tab","hidden","ItemFilterPanel","itemPanelTitle","TableHeader","ItemFilter","stages","filteredStages","itemIdx","thisStage","flag","that","newDrop","toStageKey","CharImgWrapper","ContainerBody","Gutter","SelectPanel","character","characterPanelTitle","characterSelectTitle","Row","Col","handleSelect","currentSelectTitle","targetSelectTitle","ImgMaterialWrapper","ImgOtherWrapper","MaterialContainer","MaterialWrapper","HelpIconWrapper","ResultPanel","itemIdToName","Math","floor","resultLayoutConfig","MaterialBox","money","resultDemandTitle","resultBuffTitle","buff","ATK","HP","resultPanelWidthConfig","TableGutter","CharPotential","currStage","currSub","targetStage","targetSub","isValid","PASSIVE","newState","selected","indexOf","toString","start","pattern","itemMap","parsedItem","itemId","round","routes","component","panel","exact","ToTopBtn","ContainerClassName","TransitionClassName","EasingType","Main","main","App","matchMedia","matches","getDefaultTheme","sidebarOpen","pageConfig","setPageConfig","toOpen","closest","toTheme","route","render","ReactDOM","basename","querySelector"],"mappings":"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","file":"static/js/main.fc0cfe74.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\r\nimport strings_zh_Tw from '../strings.json'\r\nimport strings_en from '../strings_en.json'\r\n\r\nconst stringDataList = { \"zh-TW\": strings_zh_Tw, \"en\": strings_en }\r\n\r\nexport const LanguageContext = createContext({\r\n    userLanguage: 'zh-TW',\r\n    stringData: stringDataList['zh-TW']\r\n})\r\n\r\nexport default function LanguageProvider({ children }) {\r\n    const getDefaultLanguage = () => {\r\n        const localSetting = localStorage.getItem('language')\r\n        if (localSetting) {\r\n            return localSetting\r\n        }\r\n        const lang = navigator.language || navigator.userLanguage\r\n        if (/en*/.test(lang)) {\r\n            return 'en'\r\n        }\r\n        return 'zh-TW'\r\n    }\r\n\r\n    const [userLanguage, setUserLanguage] = useState(getDefaultLanguage())\r\n\r\n    const provider = {\r\n        userLanguage,\r\n        stringData: stringDataList[userLanguage],\r\n        setUserLanguage: (toLanguage) => {\r\n            setUserLanguage(toLanguage);\r\n            window.localStorage.setItem('language', toLanguage);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <LanguageContext.Provider value={provider}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    )\r\n}","import React from 'react';\r\nimport { Badge } from \"react-bootstrap\"\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nexport const ToolIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\" /></g><g><g><rect height=\"8.48\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)\" width=\"3\" x=\"16.34\" y=\"12.87\" /><path d=\"M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z\" /></g></g></svg>\r\nexport const HomeIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\" /></g><g><path d=\"M19,9.3V4h-3v2.6L12,3L2,12h3v8h5v-6h4v6h5v-8h3L19,9.3z M10,10c0-1.1,0.9-2,2-2s2,0.9,2,2H10z\" /></g></svg>\r\nexport const EnlistIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z\" /></svg>\r\nexport const ChestIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"2 2 22 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\" /></g><g><g><polygon points=\"18,16 16,16 16,15 8,15 8,16 6,16 6,15 2,15 2,20 22,20 22,15 18,15\" /><path d=\"M20,8h-3H4c-1.1,0-2,0.9-2,2v4h4v-2h2v2h8v-2h2v2h4v-4C22,8.9,21.1,8,20, 8z M15,8\" /></g></g></svg>\r\nexport const LinkIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" > <path d=\"M0 0h24v24H0z\" fill=\"none\" /> <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\" /></svg >\r\nexport const FeedbackIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z\" /></svg>\r\nexport const MenuIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">  <path d=\"M0 0h24v24H0z\" fill=\"none\" /> <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\" /></svg>\r\nexport const ExpandMoreIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"> <path d=\"M0 0h24v24H0z\" fill=\"none\" /> <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\" /> </svg >\r\nexport const OverviewIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" /></svg>\r\nexport const FilterIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><path d=\"M0,0h24 M24,24H0\" fill=\"none\" /><path d=\"M4.25,5.61C6.27,8.2,10,13,10,13v6c0,0.55,0.45,1,1,1h2c0.55,0,1-0.45,1-1v-6c0,0,3.72-4.8,5.74-7.39 C20.25,4.95,19.78,4,18.95,4H5.04C4.21,4,3.74,4.95,4.25,5.61z\" /><path d=\"M0,0h24v24H0V0z\" fill=\"none\" /></g></svg>\r\nexport const ClearIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" version=\"1.1\"><g stroke=\"currentColor\" strokeWidth=\"1.8\" strokeLinecap=\"butt\" fill=\"none\" strokeLinejoin=\"round\"><polyline points=\"15 4 15 18 5 18 5 4\" /><polyline points=\"18 4 2 4\" /><polyline points=\"8.2 15 8.2 7\" /><polyline points=\"11.8 15 11.8 7\" /><polyline points=\"8 1 12 1\" /></g></svg>\r\nexport const ToTopIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /> <path d=\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\" /></svg>\r\nexport const HelpIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\" /></svg>\r\nexport const TagIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><path d=\"M0,0h24v24H0V0z\" fill=\"none\" /></g><g><path d=\"M21.41,11.41l-8.83-8.83C12.21,2.21,11.7,2,11.17,2H4C2.9,2,2,2.9,2,4v7.17c0,0.53,0.21,1.04,0.59,1.41l8.83,8.83 c0.78,0.78,2.05,0.78,2.83,0l7.17-7.17C22.2,13.46,22.2,12.2,21.41,11.41z M6.5,8C5.67,8,5,7.33,5,6.5S5.67,5,6.5,5S8,5.67,8,6.5 S7.33,8,6.5,8z\" /></g></svg>\r\nexport const ClockIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" ><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" /><path d=\"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\" /></svg>\r\nexport const TypeIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M12 2l-5.5 9h11z\" /><circle cx=\"17.5\" cy=\"17.5\" r=\"4.5\" /><path d=\"M3 13.5h8v8H3z\" /></svg>\r\nexport const CategoryIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g stroke=\"none\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z\" transform=\"rotate(120,12,12) translate(6 6)scale(0.8 0.8)\" /><path d=\"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z\" transform=\"rotate(90,12,12) translate(4 -2)scale(0.7 0.7)\" /></g></svg>\r\nexport const RaceIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\" /></svg>\r\nexport const BodysizeIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g stroke=\"none\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z\" transform=\"rotate(270,12,12)\" /></g></svg>\r\nexport const OppaiIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\"><path d=\"M3 6 A 5 5 0 1 0 10 13 A 5 5 0 1 0 17 6\" /><circle cx=\"6\" cy=\"10\" r=\".8\" /><circle cx=\"14\" cy=\"10\" r=\".8\" /></g></svg>\r\nexport const RankIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g stroke=\"none\" fill=\"currentColor\"><path d=\"M17,10.43V2H7v8.43c0,0.35,0.18,0.68,0.49,0.86 l4.18,2.51l-0.99,2.34l-3.41,0.29l2.59,2.24L9.07,22L12,20.23L14.93,22 l-0.78-3.33l2.59-2.24l-3.41-0.29 l-0.99-2.34l4.18-2.51C16.82,11.11,17,10.79,17,10.43zM13,12.23l-1,0.6l-1-0.6V3h2V12.23z\" /></g></svg>\r\nexport const ElseIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g stroke=\"none\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" /></g></svg>\r\nexport const StarIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z\" /></svg>\r\nexport const AlertIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\" /></g><g><g><g><path d=\"M11.53,5l7.53,13.01H4L11.53,5 M2.27,17.01c-0.77,1.33,0.19,3,1.73,3h15.06c1.54,0,2.5-1.67,1.73-3 L13.26,4c-0.77-1.33-2.69-1.33-3.46,0L2.27,17.01z\" /><path d=\"M10.53,10.01V13c0,0.55,0.45,1,1,1l0,0c0.55,0,1-0.45,1-1v-2.99c0-0.55-0.45-1-1-1l0,0 C10.98,9.01,10.53,9.46,10.53,10.01z\" /><circle cx=\"11.53\" cy=\"16.01\" r=\"1\" /></g></g></g></svg>\r\nexport const CalcIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z\" /></svg>\r\nexport const ItemIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"4 4 20 20\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M18.25 7.6l-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3zM7 14.96v-4.62l4 2.32v4.61l-4-2.31zm5-4.03L8 8.61l4-2.31 4 2.31-4 2.32zm1 6.34v-4.61l4-2.32v4.62l-4 2.31z\" /></svg>\r\nexport const BuffIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\" /></svg>\r\nexport const LanguageIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\" /></svg>\r\nexport const TableViewIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\" /><path d=\"M19,7H9C7.9,7,7,7.9,7,9v10c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V9C21,7.9,20.1,7,19,7z M19,9v2H9V9H19z M13,15v-2h2v2H13z M15,17v2h-2v-2H15z M11,15H9v-2h2V15z M17,13h2v2h-2V13z M9,17h2v2H9V17z M17,19v-2h2v2H17z M6,17H5c-1.1,0-2-0.9-2-2V5 c0-1.1,0.9-2,2-2h10c1.1,0,2,0.9,2,2v1h-2V5H5v10h1V17z\" /></g></svg>\r\nexport const MasonryViewIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z\" /></svg>\r\n\r\nexport const NewBadge = () => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n    return (\r\n        < Badge pill variant=\"success\" > { stringData.home.updateLog.new}</Badge>\r\n    )\r\n}\r\nexport const FixBadge = () => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n    return (\r\n        < Badge pill variant=\"danger\" > { stringData.home.updateLog.fix}</Badge>\r\n    )\r\n}\r\nexport const ChangeBadge = () => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n    return (\r\n        < Badge pill variant=\"primary\" > { stringData.home.updateLog.change}</Badge>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components';\r\nimport { Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core';\r\n\r\nconst StyledAccordion = styled(Accordion)`\r\n    .MuiAccordion-root {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n    }\r\n    .MuiAccordionSummary-root,\r\n    .MuiAccordionSummary-root.Mui-expanded {\r\n        min-height: 0;\r\n        transition: all 355ms ease;\r\n        background-color: ${props => props.theme.colors.surface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n    }\r\n    .MuiAccordionSummary-content,\r\n    .MuiAccordionSummary-content.Mui-expanded {\r\n        transition: all 355ms ease;\r\n        background-color: ${props => props.theme.colors.surface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n    }\r\n    .MuiAccordionSummary-expandIcon {\r\n        padding: 0;\r\n        svg {\r\n            fill: ${props => props.theme.colors.secondary};\r\n            margin: 0;\r\n            width: 1.6rem;\r\n            height: 1.6rem;\r\n        }\r\n    }\r\n    .MuiCollapse-container {\r\n        transition: all 355ms ease;\r\n        background-color: ${props => props.theme.colors.surface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n    }\r\n`\r\n\r\nexport default function MyAccordion(props) {\r\n    return (\r\n        <StyledAccordion\r\n            expanded={props.expanded}\r\n            onChange={props.onChange}\r\n            square={props.square}\r\n        >\r\n            <AccordionSummary\r\n                expandIcon={props.expandIcon}\r\n            >\r\n                {props.title}\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n                {props.content}\r\n            </AccordionDetails>\r\n        </StyledAccordion>\r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport {\r\n    ChestIcon,\r\n    EnlistIcon,\r\n    ExpandMoreIcon,\r\n    FeedbackIcon,\r\n    HomeIcon,\r\n    LinkIcon,\r\n    MenuIcon,\r\n    ToolIcon,\r\n} from './Icon';\r\nimport MyAccordion from './MyAccordion';\r\nimport { Dropdown, DropdownButton, ListGroup, Nav, Navbar } from 'react-bootstrap';\r\nimport { Drawer } from '@material-ui/core';\r\nimport { LanguageIcon } from './Icon';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst StyledLanguageSwitcher = styled(DropdownButton)`\r\n    padding: 0;\r\n    padding-right: 1.25rem;\r\n    button {\r\n        margin: 0;\r\n        padding: 0;\r\n        border: none;\r\n        transition: background-color 355ms ease;\r\n        color: ${props => props.theme.colors.onPrimary};\r\n        background-color: ${props => props.theme.colors.primary};\r\n    }\r\n    svg {\r\n        width: 1.4rem;\r\n        height: 1.4rem;\r\n        fill: ${props => props.theme.colors.onPrimary};\r\n    }\r\n    .dropdown-menu {\r\n        top: 120%;\r\n        border: none;\r\n        background-color: ${props => props.theme.colors.surface};\r\n        box-shadow: 0 0 .15em ${props => props.theme.colors.shadow};\r\n        a:nth-of-type(1) {\r\n            padding: .5rem .5rem;\r\n        }\r\n        a {\r\n            padding: .5rem .5rem;\r\n            color: ${props => props.theme.colors.onSurface};\r\n            :hover, :focus {\r\n                background-color: ${props => props.theme.colors.dropdownHover};\r\n            }\r\n        }\r\n        a.active {\r\n            color: ${props => props.theme.colors.onSecondary};\r\n            background-color: ${props => props.theme.colors.secondary};\r\n        }\r\n    }\r\n`\r\n\r\nfunction LanguageSwitcher() {\r\n    const { setUserLanguage } = React.useContext(LanguageContext)\r\n\r\n    const handleUserLanguage = (key, event) => setUserLanguage(key)\r\n\r\n    return (\r\n        <StyledLanguageSwitcher\r\n            title={LanguageIcon}\r\n            onSelect={handleUserLanguage}\r\n            bsPrefix='escape'\r\n            menuAlign='right'\r\n        >\r\n            <Dropdown.Item eventKey='zh-TW'></Dropdown.Item>\r\n            <Dropdown.Item eventKey='en'>English</Dropdown.Item>\r\n        </StyledLanguageSwitcher>\r\n    )\r\n}\r\n\r\nconst StyledMainNavBar = styled(Navbar)`\r\n    background-color: ${props => props.theme.colors.primary};\r\n    transition: all 355ms ease;\r\n    padding: .8rem 1.25rem;\r\n    align-item: end;\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 2;\r\n    a:nth-of-type(1) {\r\n        padding: 0;\r\n    }\r\n`\r\nconst ThemeSwitcherLabel = styled.label`\r\n    position: relative;\r\n    display: inline-block;\r\n    margin-bottom: 0;\r\n    width: 3.2rem;\r\n    height: 1.6rem;\r\n`\r\nconst Slider = styled.span`\r\n    position: absolute;\r\n    cursor: pointer;\r\n    top: 0; bottom: 0; left: 0; right: 0;\r\n    background-color: ${props => props.theme.colors.slider};\r\n    background-position: ${props => props.theme.switcher.iconOffest};\r\n    background-repeat: no-repeat;\r\n    background-size: 1rem 1rem;\r\n    -webkit-transition: .4s;\r\n    transition: .4s;\r\n    border-radius: 2rem;\r\n    background-image: url(${props => props.theme.switcher.iconUrl});\r\n    &:before {\r\n        position: absolute;\r\n        content: \"\";\r\n        height: 1.2rem;\r\n        width: 1.2rem;\r\n        left: .2rem;\r\n        bottom: .2rem;\r\n        border-radius: 50%;\r\n        background-color: #D7CCC8;\r\n        -webkit-transition: .4s;\r\n        transition: .4s;\r\n    }\r\n`\r\nconst ThemeSwitcherSwither = styled.input`\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n    &:checked + ${Slider} {\r\n        &:before {\r\n            -webkit-transform: translateX(1.6rem);\r\n            -ms-transform: translateX(1.6rem);\r\n            transform: translateX(1.6rem);\r\n        }\r\n    }\r\n`\r\nconst MenuBtn = styled(Navbar.Brand)`\r\n    cursor: pointer;\r\n`\r\nconst Text = styled.div`\r\n    font-size: x-large;\r\n    @media screen and (max-width: 490px) {\r\n        font-size: 1.2rem;\r\n    }\r\n    font-weight: bold;\r\n    color: ${props => props.theme.colors.onPrimary};\r\n    &:hover {\r\n        text-decoration: none;\r\n        color: ${props => props.theme.colors.onPrimary};\r\n    }\r\n}\r\n`\r\nconst Svg = styled.div`\r\n    svg {\r\n        width: 1.6rem;\r\n        height: 1.6rem;\r\n        fill: ${props => props.theme.colors.onPrimary};\r\n        margin: .4rem;\r\n        margin-top: .2rem;\r\n    }\r\n`\r\n\r\nexport function MainNavbar(props) {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const path = /\\/(?:.(?!\\/))+$/.exec(window.location)\r\n    const title = path === null\r\n        ? stringData.home.documentTitle\r\n        : stringData[path[0].slice(1)].name\r\n\r\n    return (\r\n        <StyledMainNavBar>\r\n            <MenuBtn href='' onClick={props.toggleSidebar(true)}>\r\n                <Svg>{MenuIcon}</Svg>\r\n            </MenuBtn>\r\n            <Text>{title}</Text>\r\n            <Nav className='ml-auto'>\r\n                <LanguageSwitcher\r\n                    handleLanguage={props.handleLanguage}\r\n                />\r\n                <ThemeSwitcherLabel>\r\n                    <ThemeSwitcherSwither\r\n                        type='checkbox'\r\n                        checked={props.checked}\r\n                        onChange={props.toggleTheme}\r\n                        onKeyDown={props.toggleTheme}\r\n                    />\r\n                    <Slider />\r\n                </ThemeSwitcherLabel>\r\n            </Nav>\r\n        </StyledMainNavBar>\r\n    )\r\n}\r\n\r\nconst StyledDrawer = styled(Drawer)`\r\n    .MuiDrawer-paper {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        width: 20rem;\r\n        @media screen and (max-width: 624px) {\r\n            width: 20rem;\r\n        }\r\n    }\r\n`\r\nconst SidebarHeader = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    height: 3.8rem;\r\n    padding: .8rem;\r\n    border-radius: 0;\r\n    font-size: x-large;\r\n    @media screen and (max-width: 490px) {\r\n        font-size: large;\r\n    }\r\n    font-weight: bold;\r\n    background-color: ${props => props.theme.colors.primary};\r\n    color: ${props => props.theme.colors.onPrimary};\r\n    svg {\r\n        fill: ${props => props.theme.colors.onPrimary};\r\n        margin: .4rem;\r\n        margin-right: 1.25rem;\r\n        margin-bottom: .6rem;\r\n        width: 1.6rem;\r\n        height 1.6rem;\r\n        vertical-align: bottom;\r\n    }\r\n`\r\nconst SiderbarList = styled(ListGroup)`\r\n    border-radius: 0;\r\n`\r\nconst SiderbarItem = styled(ListGroup.Item)`\r\n    font-size: large;\r\n    border: 0;\r\n    padding: 1rem 1.25rem;\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    cursor: pointer;\r\n    svg {\r\n        fill: ${props => props.theme.colors.secondary};\r\n        margin-right: 1.25rem;\r\n        width: 1.6rem;\r\n        height: 1.6rem;\r\n    }\r\n    &:hover {\r\n        border-left: .5rem solid ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst StyledLink = styled(Link)`\r\n    &:hover {\r\n        text-decoration: none;\r\n    }\r\n`\r\n\r\nexport function Sidebar(props) {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n    return (\r\n        <StyledDrawer\r\n            open={props.open}\r\n            onClose={props.toggleSidebar(false)}\r\n            onClick={props.toggleSidebar(false)}\r\n            onKeyDown={props.toggleSidebar(false)}\r\n        >\r\n            <SiderbarList\r\n\r\n            >\r\n                <SidebarHeader>\r\n                    {ToolIcon}\r\n                    {stringData.home.documentTitle}\r\n                </SidebarHeader>\r\n                {[\r\n                    {\r\n                        to: '/',\r\n                        icon: HomeIcon,\r\n                        title: stringData.home.name,\r\n                    },\r\n                    {\r\n                        to: '/enlist',\r\n                        icon: EnlistIcon,\r\n                        title: stringData.enlist.name,\r\n                    },\r\n                    {\r\n                        to: '/potential',\r\n                        icon: ChestIcon,\r\n                        title: stringData.potential.name,\r\n                    },\r\n                ].map(item => (\r\n                    <StyledLink key={item['title']} to={item['to']}>\r\n                        <SiderbarItem>\r\n                            {item['icon']}\r\n                            {item['title']}\r\n                        </SiderbarItem>\r\n                    </StyledLink>\r\n                ))}\r\n            </SiderbarList>\r\n            <SiderbarList>\r\n                {[\r\n                    LinkIcon,\r\n                    FeedbackIcon\r\n                ].map((item, idx) => (\r\n                    <SidebarAccordions\r\n                        icon={item}\r\n                        key={idx}\r\n                        title={stringData.navbar[idx].title}\r\n                        links={stringData.navbar[idx].links}\r\n                    />\r\n                ))}\r\n            </SiderbarList>\r\n        </StyledDrawer>\r\n    )\r\n}\r\n\r\nconst AccordionWrapper = styled.div`\r\n    margin: -1rem -1.25rem;\r\n    cursor: default;\r\n    .MuiAccordion-root {\r\n        box-shadow: none;\r\n    }\r\n    .MuiAccordionSummary-root,\r\n    .MuiAccordionSummary-root.Mui-expanded {\r\n        padding: 1rem 1.25rem;\r\n        padding-right: 1.75rem;\r\n    }\r\n    .MuiAccordionSummary-content,\r\n    .MuiAccordionSummary-content.Mui-expanded {\r\n        margin: 0;\r\n    }\r\n    .MuiAccordionDetails-root {\r\n        font-size: medium;\r\n        padding: 0 4rem;\r\n        cursor: default;\r\n        a {\r\n            padding-bottom: .5rem;\r\n        }\r\n    }\r\n`\r\nconst AccordionItem = styled(ListGroup.Item)`\r\n    color: ${props => props.theme.colors.link};\r\n    &:hover {\r\n        color: ${props => props.theme.colors.linkHover};\r\n    }\r\n`\r\n\r\nfunction SidebarAccordions(props) {\r\n    const [isExpanded, setExpanded] = React.useState(false)\r\n\r\n    return (\r\n        <SiderbarItem>\r\n            <AccordionWrapper>\r\n                <MyAccordion\r\n                    expanded={isExpanded}\r\n                    onChange={() => setExpanded(!isExpanded)}\r\n                    square={true}\r\n                    expandIcon={ExpandMoreIcon}\r\n                    title={\r\n                        <>\r\n                            {props.icon}\r\n                            {props.title}\r\n                        </>\r\n                    }\r\n                    content={\r\n                        <ListGroup>\r\n                            {props.links.map((item, idx) => (\r\n                                <AccordionItem\r\n                                    as='a'\r\n                                    href={item.link}\r\n                                    target='_blank'\r\n                                    key={idx}\r\n                                >\r\n                                    {item.description}\r\n                                </AccordionItem>\r\n                            ))}\r\n                        </ListGroup>\r\n                    }\r\n                />\r\n            </AccordionWrapper>\r\n        </SiderbarItem>\r\n    );\r\n}","export const lightTheme = {\r\n    colors: {\r\n        background: '#FAFAFA',\r\n        surface: '#fff',\r\n        primary: '#e92390',\r\n        secondary: '#b20063',\r\n        error: '#B00020',\r\n        onBackground: '#000',\r\n        onSurface: '#000',\r\n        onPrimary: '#fff',\r\n        onSecondary: '#fff',\r\n        onError: '#fff',\r\n        slider: '#fff',\r\n        border: '#b20063',\r\n        secondaryBorder: '#b20063',\r\n        shadow: 'gray',\r\n        link: '#007bff',\r\n        linkHover: '#0056b3',\r\n        dropdownHover: 'lightgray'\r\n    },\r\n    switcher: {\r\n        iconOffest: '1.8rem',\r\n        iconUrl: `${process.env.PUBLIC_URL}/img/sun.svg`\r\n    }\r\n}\r\n\r\nexport const darkTheme = {\r\n    colors: {\r\n        background: '#424242',\r\n        surface: '#424242',\r\n        primary: '#212121',\r\n        secondary: '#F48FB1',\r\n        error: '#F48FB1',\r\n        onBackground: '#fff',\r\n        onSurface: '#fff',\r\n        onPrimary: '#fff',\r\n        onSecondary: '#000',\r\n        onError: '#fff',\r\n        slider: '#01579B',\r\n        border: '#F48FB1',\r\n        secondaryBorder: '#424242',\r\n        shadow: 'lightgray',\r\n        link: '#b3e5fc',\r\n        linkHover: '#e1f5fe',\r\n        dropdownHover: 'gray'\r\n    },\r\n    switcher: {\r\n        iconOffest: '6px',\r\n        iconUrl: `${process.env.PUBLIC_URL}/img/moon.svg`\r\n    }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ChangeBadge, FixBadge, NewBadge } from './Icon';\r\nimport MyAccordion from './MyAccordion';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst BodyContainer = styled.div`\r\n    width: 100%;\r\n    font-size: .9rem;\r\n    a {\r\n        color: ${props => props.theme.colors.link};\r\n        &:hover {\r\n            color: ${props => props.theme.colors.linkHover};\r\n        }\r\n    }\r\n    ul {\r\n        list-style: none;\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n    > div {\r\n        margin-top: 1rem;\r\n    }\r\n    > div:first-child {\r\n        margin-top: 0;\r\n    }\r\n`\r\nconst DescriptionContainer = styled.li`\r\n    margin: 1rem 0;\r\n    &:first-child {\r\n        margin-top : 0;\r\n    }\r\n    &:last-child {\r\n        margin-bottom : 0;\r\n    }\r\n`\r\nconst DescriptionHeader = styled.div`\r\n    font-size: large;\r\n    margin-bottom: .5rem;\r\n`\r\nconst DescriptionBody = styled.div`\r\n    margin: 0;\r\n    p {\r\n        margin: .3rem .5rem;\r\n    }\r\n`\r\n\r\nexport const SiteDescription = () => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <BodyContainer>\r\n            <ul>\r\n                {stringData.home.about.content.map((item, idx) => {\r\n                    let Body\r\n                    if (item.name === 'feedback') {\r\n                        Body = () => (\r\n                            <p>\r\n                                {item.content[0]}\r\n                                <a\r\n                                    href='https://peing.net/ja/b5295760aebf4c'\r\n                                    target='_blank'\r\n                                    rel='noreferrer'\r\n                                >\r\n                                    {item.content[1]}\r\n                                </a>\r\n                                {item.content[2]}\r\n                            </p>\r\n                        )\r\n                    } else if (item.name === 'reference') {\r\n                        Body = () => (\r\n                            item.content.map((refItem, idx) => {\r\n                                if (idx === 3) {\r\n                                    return <p key={idx}>{refItem}</p>\r\n                                }\r\n                                return (\r\n                                    <p key={idx}>\r\n                                        <a\r\n                                            href={refItem.link}\r\n                                            target='_blank'\r\n                                            rel='noreferrer'\r\n                                        >\r\n                                            {refItem.title}\r\n                                        </a>\r\n                                    </p>\r\n                                )\r\n                            })\r\n                        )\r\n                    } else {\r\n                        Body = () => item.content\r\n                            .map((text, idx) => <p key={idx}>{text}</p>)\r\n                    }\r\n\r\n                    return (\r\n                        <DescriptionContainer key={idx}>\r\n                            <DescriptionHeader>{item.header}</DescriptionHeader>\r\n                            <DescriptionBody>\r\n                                <Body />\r\n                            </DescriptionBody>\r\n                        </DescriptionContainer>\r\n                    )\r\n                })}\r\n            </ul>\r\n        </BodyContainer>\r\n    )\r\n}\r\n\r\nconst AccordionWrapper = styled.div`\r\n    > .MuiAccordion-root {\r\n        box-shadow: none;\r\n        border-bottom: 1px solid lightgray;\r\n        > .MuiAccordionSummary-root {\r\n            padding: 0 .5rem;\r\n            border-bottom: lightgray;\r\n            > .MuiAccordionSummary-content {\r\n                display: inline;\r\n                margin: .5rem 0;\r\n                > span {\r\n                    padding: .25rem .4rem;\r\n                }\r\n            }\r\n        }\r\n        > .Mui-expanded {\r\n            border-bottom: 1px solid lightgray;\r\n        }\r\n        .MuiAccordionDetails-root {\r\n            font-size: small;\r\n            padding: .4rem .5rem;\r\n        }\r\n    }\r\n`\r\n\r\nfunction LogMsg(props) {\r\n    const [isExpanded, setExpanded] = React.useState(false)\r\n    const { type, title, description } = props.msg\r\n    const Badge = type === 'New' ? NewBadge\r\n        : type === 'Fix' ? FixBadge\r\n            : ChangeBadge\r\n\r\n    return (\r\n        <AccordionWrapper>\r\n            <MyAccordion\r\n                expanded={isExpanded}\r\n                onChange={() => setExpanded(!isExpanded)}\r\n                square={true}\r\n                title={\r\n                    <>\r\n                        <Badge />\r\n                        {` ${title}`}\r\n                    </>\r\n                }\r\n                content={description}\r\n            />\r\n        </AccordionWrapper>\r\n    )\r\n}\r\n\r\nconst MsgBox = styled.div`\r\n    > div:first-child {\r\n        border-bottom: 1px solid lightgray;\r\n    }\r\n    > div > div {\r\n        border-top: none;\r\n    }\r\n`\r\n\r\nexport function SiteUpdateLog() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <BodyContainer>\r\n            {stringData.home.updateLog.content.map((version, idx) => (\r\n                <MsgBox key={idx}>\r\n                    <div>{version.version}</div>\r\n                    {version.content.map((msg, idx) => (\r\n                        <LogMsg key={idx} msg={msg} />\r\n                    ))}\r\n                </MsgBox>\r\n            ))}\r\n        </BodyContainer>\r\n    )\r\n}\r\n\r\nconst LicenseList = styled.ul`\r\n    margin-bottom: -.5rem;\r\n`\r\nconst LicenseItemTitle = styled.div`\r\n    font-weight: bold;\r\n`\r\nconst LicenseItemContent = styled.div`\r\n    padding-left: .5rem;\r\n    padding-bottom: .5rem;\r\n`\r\n\r\nexport const SiteLicense = () => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <BodyContainer>\r\n            <LicenseList>\r\n                <li key={'text'}>\r\n                    <LicenseItemTitle>\r\n                        <span>{stringData.home.license.content.title}</span>\r\n                    </LicenseItemTitle>\r\n                    <LicenseItemContent>\r\n                        <span>{stringData.home.license.content.content}</span>\r\n                    </LicenseItemContent>\r\n                </li>\r\n                {[\r\n                    {\r\n                        titleLink: 'https://github.com/google/material-design-icons',\r\n                        title: 'Material icons - Google Design',\r\n                        licenseLink: 'https://github.com/google/material-design-icons/blob/master/LICENSE',\r\n                        license: 'Apache License 2.0',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/facebook/react',\r\n                        title: 'react',\r\n                        licenseLink: 'https://github.com/facebook/react/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/react-bootstrap/react-bootstrap',\r\n                        title: 'react-bootstrap',\r\n                        licenseLink: 'https://github.com/react-bootstrap/react-bootstrap/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/paulcollett/react-masonry-css',\r\n                        title: 'react-masonry-css',\r\n                        licenseLink: 'https://github.com/paulcollett/react-masonry-css/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/dirtyredz/react-scroll-up-button',\r\n                        title: 'react-scroll-up-button',\r\n                        licenseLink: 'https://github.com/dirtyredz/react-scroll-up-button/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/mui-org/material-ui',\r\n                        title: 'material-ui',\r\n                        licenseLink: 'https://github.com/mui-org/material-ui/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                    {\r\n                        titleLink: 'https://github.com/styled-components/styled-components',\r\n                        title: 'styled-components',\r\n                        licenseLink: 'https://github.com/styled-components/styled-components/blob/master/LICENSE',\r\n                        license: 'MIT License',\r\n                    },\r\n                ].map((item, idx) => (\r\n                    <li key={idx}>\r\n                        <LicenseItemTitle>\r\n                            <a\r\n                                href={item.titleLink}\r\n                                target='_blank'\r\n                                rel='noreferrer'\r\n                            >\r\n                                {item.title}\r\n                            </a>\r\n                        </LicenseItemTitle>\r\n                        <LicenseItemContent>\r\n                            <a\r\n                                href={item.licenseLink}\r\n                                target='_blank'\r\n                                rel='noreferrer'\r\n                            >\r\n                                {item.license}\r\n                            </a>\r\n                        </LicenseItemContent>\r\n                    </li>\r\n                ))}\r\n            </LicenseList>\r\n        </BodyContainer>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ExpandMoreIcon } from '../components/Icon';\r\nimport MyAccordion from '../components/MyAccordion';\r\nimport { SiteDescription, SiteUpdateLog, SiteLicense } from '../components/SiteAccordionBody'\r\nimport { LanguageContext } from '../components/LanguageProvider';\r\n\r\nconst HomeContainer = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-wrap: wrap;\r\n`\r\nconst Header = styled.div`\r\n    width: 60%;\r\n    @media screen and (max-width: 992px) {\r\n        width: 80%;\r\n    }\r\n    @media screen and (max-width: 624px) {\r\n        width: 90%;\r\n    }\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\r\n    font-size: x-large;\r\n    font-weight: bold;\r\n    color: ${props => props.theme.colors.onSurface};\r\n`\r\nconst AccordionWrapper = styled.div`\r\n    width: 60%;\r\n    @media screen and (max-width: 992px) {\r\n        width: 80%;\r\n    }\r\n    @media screen and (max-width: 624px) {\r\n        width: 90%;\r\n    }\r\n    margin-bottom: 2rem;\r\n    > .MuiAccordion-root {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        border: 1px solid ${props => props.theme.colors.border};\r\n        border-radius: .25rem;\r\n        box-shadow: 0 0 .15em lightgray;\r\n        > .MuiAccordionSummary-root {\r\n            font-size: large;\r\n            border-bottom: 1px solid ${props => props.theme.colors.surface};\r\n        }\r\n        > .MuiAccordionSummary-root,\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            padding: .75rem 1.25rem;\r\n            border-radius: .25rem;\r\n        }\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            border-bottom-right-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n            border-bottom: 1px solid ${props => props.theme.colors.border};\r\n        }\r\n        > .MuiCollapse-container {\r\n            border-radius: .2rem;\r\n            > div > div > div > .MuiAccordionDetails-root {\r\n                margin: 1rem;\r\n                padding: 0;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport default function Home() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const [expanded, setExpanded] = React.useState(0)\r\n\r\n    const handleExpand = (panel) => (event, isExpanded) => {\r\n        setExpanded(isExpanded ? panel : false)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        document.title = stringData.home.documentTitle\r\n    })\r\n\r\n    return (\r\n        <HomeContainer>\r\n            <Header>\r\n                {`${stringData.home.documentTitle} ${stringData.home.updateLog.content[0].version}`}\r\n            </Header>\r\n            {[\r\n                {\r\n                    header: stringData.home.about.header,\r\n                    body: <SiteDescription />,\r\n                },\r\n                {\r\n                    header: stringData.home.updateLog.header,\r\n                    body: <SiteUpdateLog />,\r\n                },\r\n                {\r\n                    header: stringData.home.license.header,\r\n                    body: <SiteLicense />,\r\n                },\r\n            ].map((item, idx) => (\r\n                <AccordionWrapper key={idx}>\r\n                    <MyAccordion\r\n                        expanded={expanded === idx}\r\n                        onChange={handleExpand(idx)}\r\n                        square={false}\r\n                        expandIcon={ExpandMoreIcon}\r\n                        title={item.header}\r\n                        content={item.body}\r\n                    />\r\n                </AccordionWrapper>\r\n            ))}\r\n        </HomeContainer>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Table } from 'react-bootstrap';\r\nimport { HelpIcon } from './Icon';\r\nimport { Backdrop, Fade, Modal } from '@material-ui/core';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst StyledFilterPanel = styled.div`\r\n    height: 100%;\r\n    width: ${props => props.widthConfig.default};\r\n    padding: 1rem;\r\n    border-radius: .25rem;\r\n    background-color: ${props => props.theme.colors.surface};\r\n    border: 1px solid ${props => props.theme.colors.border};\r\n    box-shadow: 0 0 .15em lightgray;\r\n    @media screen and (max-width: 1360px) {\r\n        width: ${props => props.widthConfig[1360]};\r\n    }\r\n    @media screen and (max-width: 992px) {\r\n        width: ${props => props.widthConfig[992]};\r\n    }\r\n`\r\n\r\nexport const FilterPanel = (props) => (\r\n    <StyledFilterPanel widthConfig={props.widthConfig}>\r\n        {props.children}\r\n    </StyledFilterPanel>\r\n)\r\n\r\nconst StyledContainerHeader = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: large;\r\n    font-weight: normal;\r\n    justify-content: space-between;\r\n    margin-bottom: 1rem;\r\n    padding-bottom: .4rem;\r\n    border-bottom: solid 1px ${props => props.theme.colors.border};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    > div {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`\r\nexport const ContainerHeader = (props) => (\r\n    <StyledContainerHeader>\r\n        {props.title}\r\n        {props.end}\r\n    </StyledContainerHeader>\r\n)\r\n\r\nconst ModalContainer = styled.div`\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    position: absolute;\r\n    width: 70%;\r\n    left: 15%;\r\n    top: 10%;\r\n    @media screen and (max-width: 992px) {\r\n        width: 80%;\r\n        left: 10%;\r\n    }\r\n    @media screen and (max-width: 768px) {\r\n        width: 90%;\r\n        left: 5%;\r\n        top: 5%;\r\n    }\r\n    padding: 1rem;\r\n    border-radius: .25rem;\r\n    border: 1px solid ${props => props.theme.colors.border};\r\n    > div > div:first-child > span:last-child {\r\n        font-size: x-large;\r\n        cursor: pointer;\r\n    }\r\n`\r\nconst ModalContentWrapper = styled.div`\r\n    overflow: auto;\r\n    max-height: calc(80vh - 2rem);\r\n    scrollbar-width: thin;\r\n    padding-right: .5rem;\r\n    margin-right: -.5rem;\r\n    &::-webkit-scrollbar {\r\n        width: .4rem;\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n        background: ${props => props.theme.colors.border};\r\n        border-radius: .25rem;\r\n    }\r\n    &::-webkit-scrollbar-track {\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n`\r\nconst ModalHeader = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: large;\r\n    border-bottom: 1px solid ${props => props.theme.colors.border};\r\n`\r\nconst ModalBody = styled.div`\r\n    margin: 1rem 0;\r\n`\r\n\r\nexport function HelpModal(props) {\r\n    const HelpModalContent = () => (\r\n        props.content.map((item, idx) => {\r\n            const CloseBtn = () => idx === 0\r\n                ? <span onClick={props.handleModalClose}>&times;</span>\r\n                : <></>\r\n            return (\r\n                <>\r\n                    <ModalHeader key={'header' + idx}>\r\n                        <span>{item.title}</span>\r\n                        <CloseBtn />\r\n                    </ModalHeader>\r\n                    <ModalBody key={'body' + idx}>\r\n                        {item.content.map((text, idx) => <p key={idx}>{text}</p>)}\r\n                    </ModalBody>\r\n                </>\r\n            )\r\n        })\r\n    )\r\n\r\n    return (\r\n        <Modal\r\n            open={props.modalOpen}\r\n            onClose={props.handleModalClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n                timeout: 500,\r\n            }}\r\n            aria-labelledby=\"help-modal-title\"\r\n            aria-describedby=\"help-modal-description\"\r\n        >\r\n            <Fade in={props.modalOpen}>\r\n                <ModalContainer>\r\n                    <ModalContentWrapper>\r\n                        <HelpModalContent/>\r\n                    </ModalContentWrapper>\r\n                </ModalContainer>\r\n            </Fade>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst ResultTableContainer = styled.div`\r\n    vertical-align: top;\r\n    position: absolute;\r\n    width: ${props => props.widthConfig.default};\r\n    margin-left: calc(100% - ${props => props.widthConfig.default});\r\n    padding: 1rem;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    border-radius: .25rem;\r\n    background-color: ${props => props.theme.colors.surface};\r\n    border: 1px solid ${props => props.theme.colors.border};\r\n    box-shadow: 0 0 .15em lightgray;\r\n    @media screen and (max-width: 1360px) {\r\n        width: ${props => props.widthConfig[1360]};\r\n        margin-left: calc(100% - ${props => props.widthConfig[1360]});\r\n    }\r\n    @media screen and (max-width: 992px) {\r\n        width: ${props => props.widthConfig[992]};\r\n        margin-left: calc(100% - ${props => props.widthConfig[992]});\r\n        position: relative;\r\n        margin-top: 1rem;\r\n    }\r\n`\r\nconst ResultTableWrapper = styled.div`\r\n    height: calc(100% - 1.4rem - 1.5rem);\r\n    maring-top: -.5rem;\r\n    overflow-x: hidden; overflow-y: auto;\r\n    scrollbar-width: thin;\r\n    &::-webkit-scrollbar {\r\n        width: .4rem;\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n        background: ${props => props.theme.colors.border};\r\n        border-radius: .25rem;\r\n    }\r\n    &::-webkit-scrollbar-track {\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n`\r\nconst StyledResultTable = styled(Table)`\r\n    width: 100%;\r\n    font-size: normal;\r\n    color: ${props => props.theme.colors.onSurface};\r\n    img {\r\n        width: 1.8rem; height: 1.8rem;\r\n    }\r\n    td {\r\n        padding-left: .75rem;\r\n    }\r\n`\r\nconst IconWrapper = styled.div`\r\n    svg {\r\n        fill: ${props => props.theme.colors.secondary};\r\n        width: 1.4rem;\r\n        height: 1.4rem;\r\n        margin-left: .4rem;\r\n        cursor: pointer;\r\n        vertical-align: top;\r\n    }\r\n`\r\n\r\nexport function ResultTable(props) {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const useSortableData = (items, config = { key: 0, direction: 'desc' }) => {\r\n        // when key is number meaning sorted by the number of item\r\n        const [sortConfig, setSortConfig] = useState(config)\r\n\r\n        const sortedItems = React.useMemo(() => {\r\n            let sortableItems = [...items]\r\n            props.sortFunc(sortableItems, sortConfig)\r\n            return sortableItems\r\n        }, [items, sortConfig])\r\n\r\n        const requestSort = (key) => {\r\n            let direction = 'desc';\r\n            if (\r\n                sortConfig.key === key &&\r\n                sortConfig.direction === 'desc'\r\n            ) {\r\n                direction = 'asc';\r\n            }\r\n            setSortConfig({ key, direction })\r\n        }\r\n\r\n        return { sortedResult: sortedItems, requestSort, sortConfig }\r\n    }\r\n    const { sortedResult, requestSort, sortConfig } = useSortableData(props.result)\r\n    const getSortDirection = (name) => {\r\n        if (sortedResult.length === 0) {\r\n            return\r\n        }\r\n        return sortConfig.key === name ? sortConfig.direction : undefined\r\n    }\r\n\r\n    return (\r\n        <ResultTableContainer widthConfig={props.widthConfig}>\r\n            <ContainerHeader\r\n                title={\r\n                    <div>\r\n                        {stringData.potential.filter.resultTitle}\r\n                        <IconWrapper onClick={props.handleModalOpen}>\r\n                            {HelpIcon}\r\n                        </IconWrapper>\r\n                    </div>\r\n                }\r\n            />\r\n            <ResultTableWrapper>\r\n                <StyledResultTable\r\n                    striped\r\n                    borderless\r\n                    size=\"sm\"\r\n                >\r\n                    {React.cloneElement(props.children, {\r\n                        requestSort: requestSort,\r\n                        getSortDirection: getSortDirection,\r\n                        sortedResult: sortedResult,\r\n                    })}\r\n                </StyledResultTable>\r\n            </ResultTableWrapper>\r\n            <HelpModal\r\n                modalOpen={props.modalOpen}\r\n                handleModalClose={props.handleModalClose}\r\n                content={props.modalContent}\r\n            >\r\n            </HelpModal>\r\n        </ResultTableContainer>\r\n    )\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Form, ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { ContainerHeader, FilterPanel, ResultTable } from './FilterComponents'\r\nimport tagData from '../tags.json';\r\nimport charData from '../characters.json';\r\nimport {\r\n    ClearIcon,\r\n    TagIcon,\r\n    ClockIcon,\r\n    TypeIcon,\r\n    CategoryIcon,\r\n    RaceIcon,\r\n    BodysizeIcon,\r\n    OppaiIcon,\r\n    RankIcon,\r\n    ElseIcon,\r\n    StarIcon,\r\n    AlertIcon\r\n} from './Icon';\r\nimport './tooltip.css';\r\nimport { Snackbar, Tooltip, Zoom } from '@material-ui/core';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst StyledToggleButtonGroup = styled(ToggleButtonGroup)`\r\n    display: grid;\r\n    gap: .5rem;\r\n    ${props => Object.entries(props.$layoutConfig).map(entry => (\r\n    `@media screen and (min-width: ${entry[0]}px) {\r\n            grid-template-columns: repeat(${entry[1]}, 1fr);\r\n        }\r\n        `\r\n    ))}\r\n    > .active {\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.onSecondary};\r\n        svg {\r\n            fill: ${props => props.theme.colors.onSecondary};\r\n            color: ${props => props.theme.colors.onSecondary};\r\n        }\r\n    }\r\n`\r\nconst StyledToggleButton = styled(ToggleButton)`\r\n    font-weight: normal;\r\n    text-align: center;\r\n    padding: .15rem .15rem;\r\n    margin-bottom: 0;\r\n    border-radius: .25rem;\r\n    border: 1px solid ${props => props.theme.colors.secondaryBorder};\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    &:hover {\r\n        border: 1px solid ${props => props.theme.colors.secondary};\r\n        box-shadow: inset 0 0 .5rem ${props => props.theme.colors.secondary}\r\n            , 0 0 .1rem ${props => props.theme.colors.secondary};\r\n    }\r\n    &:active {\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.onSecondary};\r\n        svg {\r\n            fill: ${props => props.theme.colors.onSecondary};\r\n            color: ${props => props.theme.colors.onSecondary};\r\n        }\r\n    }\r\n    > input {\r\n        display: none;\r\n    }\r\n    > svg {\r\n        width: 1.6rem;\r\n        height: 1.4rem;\r\n        vertical-align: middle;\r\n        fill: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst Select = styled(Form.Control)`\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    border-radius: .25rem;\r\n    padding: .1rem;\r\n    border: 1px solid ${props => props.theme.colors.secondary};\r\n    &:focus {\r\n        box-shadow: 0 0 .4rem ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst IconWrapper = styled.div`\r\n    cursor: pointer;\r\n    svg {\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n        margin: 0;\r\n    }\r\n`\r\n\r\nconst CharFilterPanel = (props) => {\r\n    const { userLanguage, stringData } = React.useContext(LanguageContext)\r\n\r\n    const attrIcons = {\r\n        type: TypeIcon,\r\n        category: CategoryIcon,\r\n        race: RaceIcon,\r\n        body: BodysizeIcon,\r\n        oppai: OppaiIcon,\r\n        rank: RankIcon,\r\n        else: ElseIcon\r\n    }\r\n\r\n    const widthConfig = {\r\n        default: '40%',\r\n        1360: '52%',\r\n        992: '100%',\r\n    }\r\n\r\n    const btnLayoutConfig = userLanguage === 'en'\r\n        ? {\r\n            990: 3,\r\n            768: 4,\r\n            624: 3,\r\n            410: 2,\r\n            0: 2\r\n        }\r\n        : {\r\n            768: 5,\r\n            624: 4,\r\n            410: 3,\r\n            0: 2\r\n        }\r\n\r\n    return (\r\n        <FilterPanel widthConfig={widthConfig}>\r\n            <ContainerHeader\r\n                title={\r\n                    <div>\r\n                        {TagIcon}\r\n                        {stringData.enlist.tagSelectTitle}\r\n                    </div>\r\n                }\r\n                end={\r\n                    <IconWrapper\r\n                        onClick={() => props.filterBy([])}\r\n                    >\r\n                        {ClearIcon}\r\n                    </IconWrapper>\r\n                }\r\n            />\r\n            <StyledToggleButtonGroup\r\n                type=\"checkbox\"\r\n                value={props.filterBtnValue}\r\n                onChange={props.filterBy}\r\n                $layoutConfig={btnLayoutConfig}\r\n            >\r\n                {tagData.map((item, idx) => (\r\n                    <StyledToggleButton\r\n                        value={idx}\r\n                        key={idx}\r\n                        bsPrefix='btn-escape'\r\n                    >\r\n                        {attrIcons[item.icon]}\r\n                        {stringData.characters.tags[item.id]}\r\n                    </StyledToggleButton>\r\n                ))}\r\n            </StyledToggleButtonGroup>\r\n            <ContainerHeader\r\n                title={\r\n                    <div>\r\n                        {ClockIcon}\r\n                        {stringData.enlist.timeSelectTitle}\r\n                    </div>\r\n                }\r\n            />\r\n            <Form inline>\r\n                <Form.Group>\r\n                    <Select\r\n                        as=\"select\"\r\n                        custom\r\n                        size=\"sm\"\r\n                        defaultValue='9'\r\n                        onChange={props.handleEnlistHour}\r\n                    >\r\n                        {[...Array(10).keys()].slice(1)\r\n                            .map(i => <option key={i}>{i}</option>)}\r\n                    </Select>\r\n                    {''}\r\n                    <Select\r\n                        as=\"select\"\r\n                        custom\r\n                        size=\"sm\"\r\n                        defaultValue='00'\r\n                    >\r\n                        {['00', '10', '20', '30', '40', '50']\r\n                            .map(i => <option key={i}>{i}</option>)}\r\n                    </Select>\r\n                </Form.Group>\r\n            </Form>\r\n        </FilterPanel>\r\n    )\r\n}\r\n\r\nconst SortTh = styled.th`\r\n    position: sticky;\r\n    top: 0;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    font-size: 1.1rem;\r\n    font-weight: normal;\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    &:after {\r\n        content: '${props => {\r\n        if (!props.direction) return\r\n        return props.direction === 'asc' ? ' \\\\25B2' : ' \\\\25BC'\r\n    }}';\r\n    }\r\n`\r\nconst StarIconWrapper = styled.div`\r\n    display: inline;\r\n    vertical-align: text-bottom;\r\n    svg {\r\n        width: 1.3rem;\r\n        height: 1.3rem;\r\n        margin: 0 .4rem;\r\n        fill: ${props => props.theme.colors.onSurface};\r\n    }\r\n`\r\n\r\nfunction TableContent(props) {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const TagTooltip = (props) => {\r\n        if (props.char.distinctTagCombs.length === 0) return <></>\r\n\r\n        const texts = props.char.distinctTagCombs\r\n            .map(comb => comb.map(i => stringData.characters.tags[i]).join(', '))\r\n            .join('\\n')\r\n\r\n        return (\r\n            <Tooltip title={texts} TransitionComponent={Zoom} arrow>\r\n                <StarIconWrapper>{StarIcon}</StarIconWrapper>\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    const gradeToRarity = (grade) => (\r\n        grade === 0 ? 'N'\r\n            : grade === 1 ? 'R'\r\n                : grade === 2 ? 'SR'\r\n                    : 'SSR'\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    {stringData.enlist.tableHead\r\n                        .map((item, idx) => (\r\n                            <SortTh\r\n                                key={idx}\r\n                                onClick={() => props.requestSort(item.attr)}\r\n                                direction={props.getSortDirection(item.attr)}\r\n                            >\r\n                                {item.title}\r\n                            </SortTh>\r\n                        ))}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.sortedResult.map((item, idx) => (\r\n                    <tr key={idx}>\r\n                        <td>\r\n                            {stringData.characters.name[item.name]}\r\n                            <TagTooltip char={item} />\r\n                        </td>\r\n                        <td>{gradeToRarity(item.grade)}</td>\r\n                        <td>{stringData.characters.tags[item.type]}</td>\r\n                        <td>\r\n                            {item.appliedTags.map(i => stringData.characters.tags[i]).join(', ')}\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </>\r\n    )\r\n}\r\n\r\nconst FilterContainer = styled.div`\r\n    display: flex;\r\n    @media screen and (max-width: 992px) {\r\n        display: block;\r\n    }\r\n    > div:first-child {\r\n        > div:nth-child(3) {\r\n            margin-top: 1rem;\r\n        }\r\n        > div > div > svg {\r\n                width: 1.2rem;\r\n                height: 1.2rem;\r\n                margin-right: .4rem;\r\n                margin-bottom: .2rem;\r\n                fill: ${props => props.theme.colors.onSurface};\r\n                color: ${props => props.theme.colors.onSurface};\r\n            }\r\n        }\r\n    }\r\n    > .MuiSnackbar-root > div {\r\n        background-color: #ff9800;\r\n        font-size: medium;\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n        justify-content: center;\r\n        > .MuiSnackbarContent-action {\r\n            margin: 0;\r\n            padding: 0;\r\n            svg \r\n            {\r\n                width: 1.4rem;\r\n                height: 1.4rem;\r\n                fill: #fff;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport default function CharFilter() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const [state, setState] = useState({\r\n        filterBtnValue: [],\r\n        characters: [],\r\n        enlistHour: '9',\r\n        isSnackbarOpen: false,\r\n    })\r\n\r\n    // filter characters by query tags\r\n    const filterBy = useCallback((val) => {\r\n        if (val.length > 5) {\r\n            setState((state) => ({\r\n                ...state,\r\n                isSnackbarOpen: true\r\n            }))\r\n            return;\r\n        }\r\n        if (val.length === 0) {\r\n            setState((state) => ({\r\n                ...state,\r\n                filterBtnValue: val,\r\n                characters: []\r\n            }))\r\n            return;\r\n        }\r\n\r\n        function* combinations(elements, num) {\r\n            for (let i = 0; i < elements.length; i++) {\r\n                if (num === 1)\r\n                    yield [elements[i]]\r\n                else {\r\n                    const remaining = combinations(\r\n                        elements.slice(i + 1, elements.length),\r\n                        num - 1\r\n                    )\r\n                    for (let next of remaining)\r\n                        yield [elements[i], ...next]\r\n                }\r\n            }\r\n        }\r\n\r\n        const curVal = val.sort()\r\n        let filteredChars = []\r\n        for (let i = curVal.length; i > 0; i--) {\r\n            // generate combinations\r\n            const tagCombs = Array.from(combinations(curVal, i))\r\n            // screen out ineligible characters\r\n            tagCombs.forEach(tags => {\r\n                // filter by rank and time\r\n                let survivors = JSON.parse(JSON.stringify(charData))\r\n                if (!tags.includes(20)) {\r\n                    survivors = survivors.filter(char => char.grade < 3)\r\n                    if (state.enlistHour < 4 && !tags.includes(19)) {\r\n                        survivors = survivors.filter(char => char.grade < 2)\r\n                    }\r\n                }\r\n                // filter by tags\r\n                let appliedTagsNum = 0\r\n                tagData.forEach((tag) => {\r\n                    if (appliedTagsNum === tags.length || survivors.length === 0) {\r\n                        return false\r\n                    }\r\n                    if (tags.includes(tag.id)) {\r\n                        appliedTagsNum++\r\n                        if (tag.id < 21) {\r\n                            survivors = survivors.filter(c => c[tag.icon] === tag.id)\r\n                        } else {\r\n                            survivors = survivors.filter(c => c[tag.icon].includes(tag.id))\r\n                        }\r\n                    }\r\n                })\r\n                // whether any three (or fewer) tags can lead to only one characters\r\n                if (survivors.length === 1 && appliedTagsNum <= 3) {\r\n                    let isExist = false\r\n                    filteredChars.forEach(existChar => {\r\n                        if (existChar.name === survivors[0].name) {\r\n                            isExist = true\r\n                            for (\r\n                                let j = existChar.distinctTagCombs.length - 1;\r\n                                j >= 0;\r\n                                j--\r\n                            ) {\r\n                                if (\r\n                                    tags.every(t => existChar.distinctTagCombs[j].includes(t))\r\n                                ) {\r\n                                    existChar.distinctTagCombs.splice(j, 1)\r\n                                }\r\n                            }\r\n                            existChar.distinctTagCombs.push(tags)\r\n                            return false\r\n                        }\r\n                    })\r\n                    if (!isExist) {\r\n                        filteredChars.push({\r\n                            name: survivors[0].name,\r\n                            grade: survivors[0].grade,\r\n                            type: survivors[0].type,\r\n                            category: survivors[0].category,\r\n                            appliedTags: tags,\r\n                            distinctTagCombs: [tags]\r\n                        })\r\n                    }\r\n                } else {\r\n                    survivors.forEach(char => {\r\n                        let isExist = false\r\n                        filteredChars.forEach(existChar => {\r\n                            if (existChar.name === char.name) {\r\n                                isExist = true\r\n                                return false\r\n                            }\r\n                        })\r\n                        if (!isExist) {\r\n                            filteredChars.push({\r\n                                name: char.name,\r\n                                grade: char.grade,\r\n                                type: char.type,\r\n                                category: char.category,\r\n                                appliedTags: tags,\r\n                                distinctTagCombs: []\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        setState((state) => ({\r\n            ...state,\r\n            filterBtnValue: val,\r\n            characters: filteredChars\r\n        }))\r\n    }, [state.enlistHour])\r\n\r\n    const handleEnlistHour = (event) => {\r\n        setState((state) => ({\r\n            ...state,\r\n            enlistHour: event.target.value\r\n        }));\r\n    }\r\n    useEffect(\r\n        () => filterBy(state.filterBtnValue),\r\n        [filterBy, state.filterBtnValue, state.enlistHour]\r\n    )\r\n\r\n    const sortFunc = (sortableItems, sortConfig) => {\r\n        // initial key is 0\r\n        if (sortConfig.key === 0) sortConfig.key = 'grade'\r\n\r\n        sortableItems.sort((a, b) => {\r\n            let aKey\r\n            let bKey\r\n            if (sortConfig.key === 'appliedTags') {\r\n                aKey = a[sortConfig.key].join('')\r\n                bKey = b[sortConfig.key].join('')\r\n            } else {\r\n                aKey = a[sortConfig.key]\r\n                bKey = b[sortConfig.key]\r\n            }\r\n            if (aKey < bKey) {\r\n                return sortConfig.direction === 'asc' ? -1 : 1\r\n            }\r\n            if (aKey > bKey) {\r\n                return sortConfig.direction === 'asc' ? 1 : -1\r\n            }\r\n            return 0\r\n        })\r\n    }\r\n\r\n    const handleSnackbarClose = () => {\r\n        setState((prevState) => ({\r\n            filterBtnValue: prevState.filterBtnValue,\r\n            characters: prevState.characters,\r\n            enlistHour: prevState.enlistHour,\r\n            isSnackbarOpen: false,\r\n        }))\r\n    }\r\n\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n\r\n    const tableWidthConfig = {\r\n        default: 'calc(60% - 1rem)',\r\n        1360: 'calc(48% - 1rem)',\r\n        992: '100%',\r\n    }\r\n\r\n    return (\r\n        <FilterContainer>\r\n            <CharFilterPanel\r\n                filterBy={filterBy}\r\n                handleEnlistHour={handleEnlistHour}\r\n                filterBtnValue={state.filterBtnValue}\r\n            />\r\n            <Snackbar\r\n                open={state.isSnackbarOpen}\r\n                autoHideDuration={3000}\r\n                onClose={handleSnackbarClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                message={stringData.enlist.snackbarMsg}\r\n                action={AlertIcon}\r\n            />\r\n            <ResultTable\r\n                result={state.characters}\r\n                sortFunc={sortFunc}\r\n                modalOpen={modalOpen}\r\n                handleModalOpen={() => setModalOpen(true)}\r\n                handleModalClose={() => setModalOpen(false)}\r\n                modalContent={stringData.enlist.modal}\r\n                widthConfig={tableWidthConfig}\r\n            >\r\n                <TableContent />\r\n            </ResultTable>\r\n        </FilterContainer>\r\n    )\r\n}\r\n","import Masonry from 'react-masonry-css'\r\nimport styled from 'styled-components';\r\n\r\nconst StyledMasonry = styled(Masonry)`\r\n    display: flex;\r\n    width: auto;\r\n    margin-left: -1rem;\r\n    > div {\r\n        padding-left: 1rem;\r\n    }\r\n`\r\n\r\nexport default function MyMasonry(props) {\r\n    return (\r\n        <StyledMasonry\r\n            breakpointCols={props.breakpointCols}\r\n            columnClassName=''\r\n        >\r\n            {props.children}\r\n        </StyledMasonry>\r\n    )\r\n}","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport data from '../item.json'\r\nimport { LanguageContext } from './LanguageProvider';\r\nimport MyMasonry from './MyMasonry'\r\nimport MyAccordion from './MyAccordion';\r\n\r\nconst ImgWrapper = styled.img`\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  margin-right: .4rem;\r\n  user-select: none;\r\n`\r\nconst StyledHeader = styled.div`\r\n  white-space: nowrap;\r\n  font-size: medium;\r\n  font-weight: normal;\r\n`\r\n\r\nconst ItemCardHeader = (props) => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <>\r\n            <ImgWrapper\r\n                src={`${process.env.PUBLIC_URL}/img/item_${props.id}.png`}\r\n                alt=''\r\n            />\r\n            <StyledHeader>\r\n                {stringData.items.name[props.name]}\r\n            </StyledHeader>\r\n        </>\r\n    )\r\n}\r\n\r\nconst EnergyIconWrapper = styled.img`\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n`\r\n\r\nconst CardBodyContnet = (props) => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <tbody>\r\n            {props.drop.map((drop, idx) => (\r\n                <tr key={idx}>\r\n                    <td>\r\n                        {`${drop.chapter}-${drop.stage}`}\r\n                    </td>\r\n                    <td>{stringData.items.rarity[drop.rarity]}</td>\r\n                    <td>\r\n                        <EnergyIconWrapper\r\n                            src={`${process.env.PUBLIC_URL}/img/energy.png`}\r\n                            alt={stringData.potential.filter.tableHead[2]}\r\n                        />\r\n                        {drop.energy}\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n        </tbody>\r\n    )\r\n}\r\n\r\nconst StyledTable = styled(Table)`\r\n  font-size: .9rem;\r\n  color: ${props => props.theme.colors.onSurface};\r\n  margin: 0;\r\n  > tbody > tr > td {\r\n    padding-left: .75rem;\r\n  }\r\n`\r\n\r\nexport const ItemCardBody = (props) => {\r\n    return (\r\n        <StyledTable\r\n            striped\r\n            borderless\r\n            size=\"sm\"\r\n        >\r\n            {props.children}\r\n        </StyledTable>\r\n    )\r\n}\r\n\r\nconst AccordionWrapper = styled.div`\r\n    margin-bottom: 1rem;\r\n    > .MuiAccordion-root {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        border: 1px solid ${props => props.theme.colors.border};\r\n        border-radius: .25rem;\r\n        box-shadow: 0 0 .15em lightgray;\r\n        > .MuiAccordionSummary-root {\r\n            border-bottom: 1px solid ${props => props.theme.colors.surface};\r\n        }\r\n        > .MuiAccordionSummary-root,\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            padding: .75rem 1.25rem;\r\n            border-radius: .25rem;\r\n            > .MuiAccordionSummary-content {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                border-radius: .25rem;\r\n                margin: 0;\r\n            }\r\n        }\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            border-bottom-right-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n            border-bottom: 1px solid ${props => props.theme.colors.border};\r\n        }\r\n        > .MuiCollapse-container {\r\n            border-radius: .2rem;\r\n            > div > div > div > .MuiAccordionDetails-root {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst ItemCard = (props) => {\r\n    const [isExpanded, setExpanded] = React.useState(false)\r\n\r\n    return (\r\n        <AccordionWrapper>\r\n            <MyAccordion\r\n                expanded={isExpanded}\r\n                onChange={() => setExpanded(!isExpanded)}\r\n                square={false}\r\n                title={props.header}\r\n                content={props.body}\r\n            />\r\n        </AccordionWrapper>\r\n    )\r\n}\r\n\r\nexport default function ItemShowcase() {\r\n    const breakpointColumnsConfig = {\r\n        default: 6,\r\n        1360: 5,\r\n        1200: 4,\r\n        992: 3,\r\n        768: 2\r\n    };\r\n\r\n    return (\r\n        <MyMasonry\r\n            breakpointCols={breakpointColumnsConfig}\r\n        >\r\n            {data.map((item, idx) => (\r\n                item.drop.length === 0\r\n                    ? true\r\n                    : <ItemCard\r\n                        key={idx}\r\n                        header={\r\n                            <ItemCardHeader\r\n                                id={item.id}\r\n                                name={item.name}\r\n                            />\r\n                        }\r\n                        body={\r\n                            <ItemCardBody>\r\n                                <CardBodyContnet\r\n                                    drop={item.drop}\r\n                                />\r\n                            </ItemCardBody>\r\n                        }\r\n                    />\r\n            ))}\r\n        </MyMasonry>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { LanguageContext } from './LanguageProvider';\r\nimport MyAccordion from './MyAccordion';\r\nimport MyMasonry from './MyMasonry'\r\nimport { ItemCardBody } from './ItemShowcase'\r\nimport {\r\n    TypeIcon,\r\n    CategoryIcon,\r\n    RaceIcon,\r\n    BodysizeIcon,\r\n    OppaiIcon,\r\n    RankIcon,\r\n    ElseIcon,\r\n} from './Icon';\r\nimport charTagData from '../characters.json'\r\nimport { IconButton } from '@material-ui/core';\r\nimport { MasonryViewIcon, TableViewIcon } from './Icon'\r\nimport { Table } from 'react-bootstrap';\r\n\r\nconst TextWrapper = styled.div`\r\n    display: flex;\r\n    align-items: ${props => props.$lang === 'en'\r\n        ? 'flex-end'\r\n        : 'flex-start'\r\n    };\r\n    @media screen and (max-width: 490px) {\r\n        align-items: flex-end;\r\n    }\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    min-width: 10rem;\r\n    height: 3.6rem;\r\n    background-image: url(${props => props.$img});\r\n    background-repeat: no-repeat;\r\n    background-size: 6rem 6rem;\r\n    background-position: 0 -1.6rem;\r\n    > div {\r\n        ${props => props.$lang === 'en'\r\n            ? 'margin-right: 1rem'\r\n            : 'margin-left: 6rem'\r\n        };\r\n        transition: all 355ms ease;\r\n        text-shadow: 0 0 1px ${props => props.theme.colors.surface},\r\n        -2px 0 1px  ${props => props.theme.colors.surface},\r\n        2px 0 1px  ${props => props.theme.colors.surface},\r\n        0 -2px 1px ${props => props.theme.colors.surface},\r\n        0 2px 1px  ${props => props.theme.colors.surface},\r\n        2px 2px 1px ${props => props.theme.colors.surface},\r\n        2px -2px 1px ${props => props.theme.colors.surface},\r\n        -2px 2px 1px ${props => props.theme.colors.surface},\r\n        -2px -2px 1px ${props => props.theme.colors.surface};\r\n        @media screen and (max-width: 490px) {\r\n            margin-left: 0;\r\n            margin-right: 1rem;\r\n        }\r\n    }\r\n`\r\n\r\nconst CardHeader = (props) => {\r\n    const { userLanguage } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <>\r\n            <TextWrapper\r\n                $img={`${process.env.PUBLIC_URL}/img/char_small_${props.id}.png`}\r\n                $lang={userLanguage}\r\n            >\r\n                <div>{props.name.split(' ').slice(0, -1).join(' ')}</div>\r\n                <div>{props.name.split(' ').slice(-1)[0]}</div>\r\n            </TextWrapper>\r\n        </>\r\n    )\r\n}\r\n\r\nconst IconWrapper = styled.div`\r\n    margin-bottom: .1rem;\r\n    margin-left: .25rem;\r\n    margin-right: .4rem;\r\n    > svg {\r\n        width: 1.2rem;\r\n        fill: ${props => props.theme.colors.secondary};\r\n        color:  ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst TagWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n`\r\n\r\nconst CardBody = (props) => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const attrIcons = {\r\n        type: TypeIcon,\r\n        category: CategoryIcon,\r\n        race: RaceIcon,\r\n        body: BodysizeIcon,\r\n        oppai: OppaiIcon,\r\n        rank: RankIcon,\r\n        else: ElseIcon\r\n    }\r\n\r\n    if (props.id >= 6 && props.id <= 8) {\r\n        return (\r\n            <ItemCardBody>\r\n                <tbody><tr><td>\r\n                    {stringData.characters.tagWarnMsg}\r\n                </td></tr></tbody>\r\n            </ItemCardBody>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <ItemCardBody>\r\n            <tbody>\r\n                {Object.entries(charTagData[props.id]).map((entry, idx) => {\r\n                    if (idx < 2)\r\n                        return true\r\n\r\n                    if (idx < 8) {\r\n                        if (entry[1].length !== 0) {\r\n                            return (\r\n                                <tr key={idx}>\r\n                                    <td>\r\n                                        <TagWrapper>\r\n                                            <IconWrapper>\r\n                                                {attrIcons[entry[0]]}\r\n                                            </IconWrapper>\r\n                                            {stringData.characters.tags[entry[1]]}\r\n                                        </TagWrapper>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        } else {\r\n                            return true\r\n                        }\r\n                    }\r\n\r\n                    return (\r\n                        entry[1].map((tag, i) => (\r\n                            <tr key={idx + i + 1}>\r\n                                <td>\r\n                                    <TagWrapper>\r\n                                        <IconWrapper>\r\n                                            {attrIcons[entry[0]]}\r\n                                        </IconWrapper>\r\n                                        {stringData.characters.tags[tag]}\r\n                                    </TagWrapper>\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </ItemCardBody>\r\n    )\r\n}\r\n\r\nconst AccordionWrapper = styled.div`\r\n    margin-bottom: 1rem;\r\n    > .MuiAccordion-root {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        border: 1px solid ${props => props.theme.colors.border};\r\n        border-radius: .25rem;\r\n        box-shadow: 0 0 .15em lightgray;\r\n        > .MuiAccordionSummary-root,\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            padding: 0;\r\n            border-radius: .25rem;\r\n            > .MuiAccordionSummary-content {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                overflow: hidden;\r\n                border-radius: .25rem;\r\n                padding: 0;\r\n                margin: 0;\r\n            }\r\n        }\r\n        > .MuiAccordionSummary-root {\r\n            border-bottom: 0px solid ${props => props.theme.colors.border};\r\n        }\r\n        > .MuiAccordionSummary-root.Mui-expanded {\r\n            border-bottom-right-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n            border-bottom: 1px solid ${props => props.theme.colors.border};\r\n        }\r\n        > .MuiCollapse-container {\r\n            border-radius: .2rem;\r\n            > div > div > div > .MuiAccordionDetails-root {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst CharCard = (props) => {\r\n    const [isExpanded, setExpanded] = React.useState(false)\r\n\r\n    return (\r\n        <AccordionWrapper>\r\n            <MyAccordion\r\n                expanded={isExpanded}\r\n                onChange={() => setExpanded(!isExpanded)}\r\n                square={false}\r\n                title={props.header}\r\n                content={props.body}\r\n            />\r\n        </AccordionWrapper>\r\n    )\r\n}\r\n\r\nconst TableWrapper = styled.div`\r\n    overflow-x: auto;\r\n    overflow-y: auto;\r\n    height: calc(100vh - 12rem);\r\n    scrollbar-width: thin;\r\n    &::-webkit-scrollbar {\r\n        width: 1rem;\r\n        height: 1rem;\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n        background: lightgray;\r\n        border-radius: .25rem;\r\n    }\r\n    &::-webkit-scrollbar-track {\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n    &::-webkit-scrollbar-corner {\r\n        background: ${props => props.theme.colors.surface};\r\n    }\r\n`\r\nconst StyledTable = styled(Table)`\r\n    color: ${props => props.theme.colors.onSurface};\r\n    thead th {\r\n        position: sticky;\r\n        top: 0;\r\n        padding: .75rem .25rem;\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.onSecondary};\r\n    }\r\n    thead th:first-child {\r\n        padding-left: .75rem;\r\n    }\r\n    tbody {\r\n        tr {\r\n            border-bottom: 1px solid ${props => props.theme.colors.secondary};\r\n        }\r\n        td {\r\n            vertical-align: middle;\r\n        }\r\n    }\r\n    @media screen and (min-width: ${props => (\r\n        props.$lang === 'en'\r\n            ? '1300'\r\n            : '900'\r\n    )}px) {\r\n        td:first-child > div {\r\n            flex-direction: row;\r\n            align-items: center;\r\n            justify-content: ${props => (\r\n                props.$lang === 'en'\r\n                    ? 'flex-end'\r\n                    : 'flex-start'\r\n            )};\r\n            > div:last-child {\r\n                margin-left: ${props => (\r\n                    props.$lang === 'en'\r\n                        ? '-.8rem'\r\n                        : '.5rem'\r\n                )};\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst CharTable = () => {\r\n    const { userLanguage, stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <TableWrapper>\r\n            <StyledTable\r\n                borderless\r\n                size='sm'\r\n                $lang={userLanguage}\r\n            >\r\n                <thead>\r\n                    <tr>\r\n                        {stringData.characters\r\n                            .tagAttributes.map((attr, idx) => (\r\n                                <th key={idx} nowrap='nowrap'>\r\n                                    {attr}\r\n                                </th>\r\n                            ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {charTagData.map((char, i) => {\r\n                        if (i >= 6 && i <= 8) {\r\n                            return (\r\n                                <tr key={i}>\r\n                                    <td>\r\n                                        <CardHeader\r\n                                            id={i + 1}\r\n                                            name={stringData.characters.name[i]}\r\n                                        />\r\n                                    </td>\r\n                                    <td colSpan='8'>\r\n                                        {stringData.characters.tagWarnMsg}\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n\r\n                        return (\r\n                            <tr key={i}>\r\n                                {Object.values(char).map((attr, j) => {\r\n                                    if (j === 0) {\r\n                                        return (\r\n                                            <td key={j}>\r\n                                                <CardHeader\r\n                                                    id={i + 1}\r\n                                                    name={stringData.characters.name[i]}\r\n                                                />\r\n                                            </td>\r\n                                        )\r\n                                    }\r\n                                    if (j === 1) {\r\n                                        let rarity\r\n                                        switch (attr) {\r\n                                            case 3:\r\n                                                rarity = 'SSR'\r\n                                                break\r\n                                            case 2:\r\n                                                rarity = 'SR'\r\n                                                break\r\n                                            case 1:\r\n                                                rarity = 'R'\r\n                                                break\r\n                                            default:\r\n                                                rarity = 'N'\r\n                                                break\r\n                                        }\r\n                                        return <td key={j}>{rarity}</td>\r\n                                    }\r\n                                    if (j < 8) {\r\n                                        let tag\r\n                                        if (attr.length === 0) {\r\n                                            tag = '-'\r\n                                        } else {\r\n                                            tag = stringData.characters.tags[attr]\r\n                                        }\r\n                                        return <td key={j} nowrap='nowrap'>{tag}</td>\r\n                                    }\r\n\r\n                                    return (\r\n                                        <td key={j} nowrap='nowrap'>\r\n                                            {attr.map(tag => (\r\n                                                stringData.characters.tags[tag]\r\n                                            )).join(', ')}\r\n                                        </td>\r\n                                    )\r\n                                })}\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </StyledTable>\r\n        </TableWrapper>\r\n    )\r\n}\r\n\r\nconst LayoutBtnContainer = styled.div`\r\n    position: absolute;\r\n    right: 0;\r\n    top: -4rem;\r\n    @media screen and (max-width: 410px) {\r\n        font-size: 0;\r\n    }\r\n`\r\nconst StyledBtn = styled(IconButton)`\r\n    padding: .75rem .5rem;\r\n    svg {\r\n        fill: ${props => (\r\n        props.$active\r\n            ? props.theme.colors.secondary\r\n            : props.theme.colors.onSurface\r\n    )};\r\n        width: 1.6rem;\r\n        height: 1.6rem;\r\n    }\r\n    &:hover {\r\n        svg {\r\n            fill: ${props => props.theme.colors.secondary};\r\n            width: 1.6rem;\r\n            height: 1.6rem;\r\n        }\r\n    }\r\n`\r\nconst ShowcaseContainer = styled.div`\r\n    display: ${props => props.$hidden ? 'none' : 'block'}\r\n`\r\n\r\nexport default function CharShowcase() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n    const characters = stringData.characters.name\r\n\r\n    const getDefaultLayout = () => {\r\n        const localSetting = localStorage.getItem('enlist-character-layout')\r\n        return localSetting ? localSetting : 'Masonry'\r\n    }\r\n    const [layout, setLayout] = React.useState(getDefaultLayout)\r\n\r\n    const handleLayoutChange = (toLayout) => () => {\r\n        setLayout(toLayout)\r\n        localStorage.setItem('enlist-character-layout', toLayout)\r\n    }\r\n\r\n    const breakpointColumnsConfig = {\r\n        default: 6,\r\n        1360: 5,\r\n        1200: 4,\r\n        992: 3,\r\n        768: 2\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <LayoutBtnContainer>\r\n                {stringData.enlist.layout}\r\n                <StyledBtn\r\n                    $active={layout === 'Masonry'}\r\n                    onClick={handleLayoutChange('Masonry')}\r\n                >\r\n                    {MasonryViewIcon}\r\n                </StyledBtn>\r\n                <StyledBtn\r\n                    $active={layout === 'Table'}\r\n                    onClick={handleLayoutChange('Table')}\r\n                >\r\n                    {TableViewIcon}\r\n                </StyledBtn>\r\n            </LayoutBtnContainer>\r\n            <ShowcaseContainer $hidden={layout !== 'Masonry'}>\r\n                <MyMasonry\r\n                    breakpointCols={breakpointColumnsConfig}\r\n                >\r\n                    {characters.slice(0, characters.length - 1).map((char, idx) => (\r\n                        <CharCard\r\n                            header={<CardHeader id={idx + 1} name={char} />}\r\n                            body={<CardBody id={idx} />}\r\n                            key={idx}\r\n                        />\r\n                    ))}\r\n                </MyMasonry>\r\n            </ShowcaseContainer>\r\n            <ShowcaseContainer $hidden={layout !== 'Table'}>\r\n                <CharTable>\r\n\r\n                </CharTable>\r\n            </ShowcaseContainer>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport styled from 'styled-components';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst TabPanel = styled.div`\r\n    position: relative;\r\n    margin-top: 1rem;\r\n`\r\nconst StyledTabs = styled(Tabs)`\r\n    border-bottom: 1px solid ${props => props.theme.colors.border};\r\n    > div {\r\n        > .MuiTabs-indicator {\r\n            background-color:  ${props => props.theme.colors.secondary};\r\n            height: 100%;\r\n            border-radius: .25rem;\r\n            border-bottom-right-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n        }\r\n        > div {\r\n            > .MuiTab-root {\r\n                min-width: 0;\r\n                min-height: 0;\r\n                padding: 0 1rem;\r\n                padding-top: .6rem;\r\n                z-index: 1;\r\n                > span {\r\n                    display: ${props => {\r\n                        if (props.lang === 'en') return 'flex'\r\n                        else return 'inline'\r\n                    }};\r\n                    font-size: ${props => {\r\n                        if (props.lang === 'en') return '1rem'\r\n                        else return 'medium'\r\n                    }};\r\n                    color: ${props => props.theme.colors.onSurface}\r\n                }\r\n            }\r\n            > .MuiTab-root.MuiTab-labelIcon {\r\n                min-height: 0;\r\n            }\r\n            > .Mui-selected {\r\n                > span {\r\n                    transition: all 355ms ease;\r\n                    color: ${props => props.theme.colors.onSecondary};\r\n                    svg {\r\n                        transition: all 355ms ease;\r\n                        fill: ${props => props.theme.colors.onSecondary};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    svg {\r\n        width: 1.4rem;\r\n        height: 1.4rem;\r\n        margin: .3rem .2rem;\r\n        margin-left: 0;\r\n        fill: ${props => props.theme.colors.onSurface};\r\n    }\r\n}\r\n`\r\nexport default function PageWithTabs(props) {\r\n    const { userLanguage } = React.useContext(LanguageContext)\r\n\r\n    const location = /\\/(?:.(?!\\/))+$/.exec(window.location)[0]\r\n\r\n    const getDefaultTab = () => {\r\n        const localSetting = localStorage.getItem(location + '-select-tab')\r\n        return localSetting ? parseInt(localSetting) : 0\r\n    }\r\n    const [tab, setTab] = useState(getDefaultTab)\r\n\r\n    const handleTabChange = (event, toTab) => {\r\n        setTab(toTab)\r\n        localStorage.setItem(location + '-select-tab', toTab)\r\n    }\r\n    React.useEffect(() => {\r\n        document.title = props.title\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <StyledTabs\r\n                value={tab}\r\n                onChange={handleTabChange}\r\n                lang={userLanguage}\r\n            >\r\n                {props.tabs.map(item => (\r\n                    <Tab label={item.label} icon={item.icon} key={item.label} />\r\n                ))}\r\n            </StyledTabs>\r\n            {props.tabs.map((item, idx) => (\r\n                <TabPanel hidden={tab !== idx} key={idx}>\r\n                    {item.content}\r\n                </TabPanel>\r\n            ))}\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\r\nimport { ContainerHeader, FilterPanel, ResultTable } from './FilterComponents'\r\nimport styled from 'styled-components';\r\nimport { ClearIcon } from './Icon';\r\nimport data from '../item.json'\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst StyledToggleButtonGroup = styled(ToggleButtonGroup)`\r\n    display: grid;\r\n    grid-template-columns: repeat(${props => props.$layoutConfig.default}, 1fr);\r\n    gap: .5rem;\r\n    ${props => Object.entries(props.$layoutConfig).map(entries => (\r\n    `@media screen and (min-width: ${entries[0]}px) {\r\n            grid-template-columns: repeat(${entries[1]}, 1fr);\r\n        }\r\n        `\r\n    ))}\r\n    > .active {\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.onSecondary};\r\n    }\r\n`\r\nconst StyledToggleButton = styled(ToggleButton)`\r\n    font-size: .85rem;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    padding: .15rem .15rem;\r\n    margin-bottom: 0;\r\n    border-radius: .25rem;\r\n    border: 1px solid ${props => props.theme.colors.secondaryBorder};\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    &:hover {\r\n        border: 1px solid ${props => props.theme.colors.secondary};\r\n        box-shadow: inset 0 0 .5rem ${props => props.theme.colors.secondary}\r\n            , 0 0 .1rem ${props => props.theme.colors.secondary};\r\n    }\r\n    &:active {\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        color: ${props => props.theme.colors.onSecondary};\r\n    }\r\n    > input {\r\n        display: none;\r\n    }\r\n    > img {\r\n        width: 2.26rem; height: 2.26rem;\r\n    }\r\n`\r\nconst IconWrapper = styled.div`\r\n    cursor: pointer;\r\n    svg {\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n    }\r\n`\r\n\r\nconst ItemFilterPanel = (props) => {\r\n    const { userLanguage, stringData } = React.useContext(LanguageContext)\r\n\r\n    const widthConfig = {\r\n        default: '60%',\r\n        1360: '62%',\r\n        992: '100%',\r\n    }\r\n\r\n    const btnLayoutConfig = userLanguage === 'en'\r\n        ? {\r\n            1360: 4,\r\n            992: 3,\r\n            768: 4,\r\n            624: 3,\r\n            0: 2\r\n        }\r\n        : {\r\n            1360: 5,\r\n            992: 4,\r\n            768: 5,\r\n            624: 4,\r\n            410: 3,\r\n            0: 2,\r\n        }\r\n\r\n    return (\r\n        <FilterPanel widthConfig={widthConfig}>\r\n            <ContainerHeader\r\n                title={stringData.potential.filter.itemPanelTitle}\r\n                end={\r\n                    <IconWrapper\r\n                        onClick={() => props.filterBy([])}\r\n                    >\r\n                        {ClearIcon}\r\n                    </IconWrapper>\r\n                }\r\n            />\r\n            <StyledToggleButtonGroup\r\n                type=\"checkbox\"\r\n                value={props.filterBtnValue}\r\n                onChange={props.filterBy}\r\n                $layoutConfig={btnLayoutConfig}\r\n            >\r\n                {data.map((item, idx) => {\r\n                    if (item.drop.length === 0) return true\r\n\r\n                    return (\r\n                        <StyledToggleButton\r\n                            value={idx}\r\n                            key={idx}\r\n                            bsPrefix='btn-escape'\r\n                        >\r\n                            <img\r\n                                src={`${process.env.PUBLIC_URL}/img/item_${item.id}.png`}\r\n                                alt=''\r\n                            />\r\n                            {stringData.items.name[item.name]}\r\n                        </StyledToggleButton>\r\n                    )\r\n                })}\r\n            </StyledToggleButtonGroup>\r\n        </FilterPanel>\r\n    )\r\n}\r\n\r\nconst SortTh = styled.th`\r\n    position: sticky;\r\n    top: 0;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    font-size: 1.1rem;\r\n    font-weight: normal;\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    &:after {\r\n        content: '${props => {\r\n        if (!props.direction) return\r\n        return props.direction === 'asc' ? ' \\\\25B2' : ' \\\\25BC'\r\n    }}';\r\n    }\r\n`\r\n\r\nconst TableContent = (props) => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const TableHeader = (props) => {\r\n        if (props.sortedResult.length === 0) {\r\n            return <SortTh>{stringData.potential.filter.tableHead[1]}</SortTh>\r\n        }\r\n\r\n        return (\r\n            props.sortedResult[0].drop.map((item, idx) => {\r\n                return (\r\n                    <SortTh\r\n                        key={idx}\r\n                        onClick={() => props.requestSort(idx)}\r\n                        direction={props.getSortDirection(idx)}\r\n                    >\r\n                        <img\r\n                            src={`${process.env.PUBLIC_URL}/img/item_${item.id}.png`}\r\n                            alt={stringData.items.name[item.name]}\r\n                        />\r\n                    </SortTh>\r\n                )\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    <SortTh\r\n                        onClick={() => props.requestSort('stage')}\r\n                        direction={props.getSortDirection('stage')}\r\n                    >\r\n                        {stringData.potential.filter.tableHead[0]}\r\n                    </SortTh>\r\n                    <TableHeader {...props} />\r\n                    <SortTh\r\n                        onClick={() => props.requestSort('energy')}\r\n                        direction={props.getSortDirection('energy')}\r\n                    >\r\n                        <img\r\n                            src={`${process.env.PUBLIC_URL}/img/energy.png`}\r\n                            className='card-table-img'\r\n                            alt={stringData.potential.filter.tableHead[2]}\r\n                        />\r\n                    </SortTh>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.sortedResult.map((stage, idx) => {\r\n                    return (\r\n                        <tr key={idx}>\r\n                            <td>{`${stage.chapter}-${stage.stage}`}</td>\r\n                            {stage.drop.map(item => {\r\n                                return (\r\n                                    <td key={item.id}>\r\n                                        {stringData.items.rarity[item.rarity]}\r\n                                    </td>\r\n                                )\r\n                            })}\r\n                            <td>{stage.energy}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </>\r\n    )\r\n}\r\n\r\nconst FilterContainer = styled.div`\r\n    display: flex;\r\n    @media screen and (max-width: 992px) {\r\n        display: block;\r\n    }\r\n    > div:last-child > div:first-child {\r\n        justify-content: start;\r\n    }\r\n`\r\n\r\nexport default function ItemFilter() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const [state, setState] = useState({\r\n        filterBtnValue: [],\r\n        stages: [],\r\n    })\r\n\r\n    const filterBy = (val) => {\r\n        if (val.length === 0) {\r\n            setState({\r\n                filterBtnValue: val,\r\n                stages: [],\r\n            })\r\n            return;\r\n        }\r\n        const curVal = val.sort()\r\n        // deep copy\r\n        let filteredStages = JSON.parse(JSON.stringify(data[curVal[0]].drop))\r\n        filteredStages.forEach(stage => {\r\n            stage.drop = [{\r\n                id: data[curVal[0]].id,\r\n                name: data[curVal[0]].name,\r\n                rarity: stage.rarity\r\n            }]\r\n            delete stage.rarity\r\n        })\r\n        curVal.forEach((itemIdx, idx) => {\r\n            if (idx === 0) return true\r\n            filteredStages = filteredStages.filter(thisStage => {\r\n                let flag = false\r\n                data[itemIdx].drop.forEach(that => {\r\n                    if (\r\n                        that.chapter === thisStage.chapter\r\n                        && that.stage === thisStage.stage\r\n                    ) {\r\n                        let newDrop = {\r\n                            id: data[itemIdx].id,\r\n                            name: data[itemIdx].name,\r\n                            rarity: that.rarity\r\n                        }\r\n                        thisStage.drop.push(newDrop)\r\n                        flag = true\r\n                        return false\r\n                    }\r\n                })\r\n                return flag\r\n            })\r\n        })\r\n        setState({\r\n            filterBtnValue: val,\r\n            stages: filteredStages,\r\n        })\r\n    }\r\n\r\n    const sortFunc = (sortableItems, sortConfig) => {\r\n        const toStageKey = key => {\r\n            return (\r\n                parseInt(key.chapter) * 1000 +\r\n                parseInt(key.stage.split(' ')[0]) * 10 +\r\n                (key.stage.includes('free') ? 1 : 0) +\r\n                (key.stage.includes('-') ? parseInt(key.stage.split('-')[1]) : 0)\r\n            )\r\n        }\r\n\r\n        sortableItems.sort((a, b) => {\r\n            let aKey\r\n            let bKey\r\n            if (sortConfig.key === 'stage') {\r\n                aKey = toStageKey(a)\r\n                bKey = toStageKey(b)\r\n            } else if (sortConfig.key === 'energy') {\r\n                aKey = a[sortConfig.key]\r\n                bKey = b[sortConfig.key]\r\n            } else {\r\n                aKey = a.drop[sortConfig.key].rarity\r\n                bKey = b.drop[sortConfig.key].rarity\r\n            }\r\n            if (aKey < bKey) {\r\n                return sortConfig.direction === 'asc' ? -1 : 1\r\n            }\r\n            if (aKey > bKey) {\r\n                return sortConfig.direction === 'asc' ? 1 : -1\r\n            }\r\n            return 0\r\n        })\r\n    }\r\n\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n\r\n    const tableWidthConfig = {\r\n        default: 'calc(40% - 1rem)',\r\n        1360: 'calc(38% - 1rem)',\r\n        992: '100%',\r\n    }\r\n\r\n    return (\r\n        <FilterContainer>\r\n            <ItemFilterPanel\r\n                filterBtnValue={state.filterBtnValue}\r\n                filterBy={filterBy}\r\n            />\r\n            <ResultTable\r\n                result={state.stages}\r\n                sortFunc={sortFunc}\r\n                modalOpen={modalOpen}\r\n                handleModalOpen={() => setModalOpen(true)}\r\n                handleModalClose={() => setModalOpen(false)}\r\n                modalContent={stringData.potential.filter.modal}\r\n                widthConfig={tableWidthConfig}\r\n            >\r\n                <TableContent />\r\n            </ResultTable>\r\n        </FilterContainer>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ContainerHeader, FilterPanel, HelpModal } from '../components/FilterComponents';\r\nimport { AlertIcon, BuffIcon, ItemIcon, RaceIcon, HelpIcon } from './Icon';\r\nimport { Col, Form } from 'react-bootstrap';\r\nimport data from '../../src/characterPotential.json';\r\nimport { Snackbar } from '@material-ui/core';\r\nimport { LanguageContext } from './LanguageProvider';\r\n\r\nconst Select = styled(Form.Control)`\r\n    background-color: ${props => props.theme.colors.surface};\r\n    color: ${props => props.theme.colors.onSurface};\r\n    border-radius: .25rem;\r\n    padding: .1rem;\r\n    border: 1px solid ${props => props.theme.colors.secondary};\r\n    width: 100%;\r\n    &:focus {\r\n        box-shadow: 0 0 .4rem ${props => props.theme.colors.secondary};\r\n    }\r\n`\r\nconst IconWrapper = styled.div`\r\n    svg {\r\n        width: 1.2rem;\r\n        height: 1.2rem;\r\n        margin-right: .4rem;\r\n        fill: ${props => props.theme.colors.onSurface};\r\n    }\r\n`\r\nconst CharImgWrapper = styled.img`\r\n    height: 15rem;\r\n    margin-right: 1rem;\r\n    border: 2px solid ${props => props.theme.colors.secondary};\r\n    border-radius: .25rem;\r\n`\r\nconst ContainerBody = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n`\r\nconst Gutter = styled.div`\r\n    margin-top: 3rem;\r\n`\r\n\r\nconst SelectPanel = (props) => {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const widthConfig = {\r\n        default: '25%',\r\n        992: '100%',\r\n    }\r\n\r\n    return (\r\n        <FilterPanel widthConfig={widthConfig}>\r\n            <ContainerHeader\r\n                title={\r\n                    <IconWrapper>\r\n                        {RaceIcon}\r\n                        {stringData.potential.character.characterPanelTitle}\r\n                    </IconWrapper>\r\n                }\r\n            />\r\n            <ContainerBody>\r\n                <CharImgWrapper\r\n                    src={`${process.env.PUBLIC_URL}/img/char_${data.characters[props.character].id}.png`}\r\n                    alt=''\r\n                />\r\n                <div>\r\n                    <Form>\r\n                        {stringData.potential.character.characterSelectTitle}\r\n                        <br />\r\n                        <Form.Row>\r\n                            <Form.Group as={Col}>\r\n                                <Select\r\n                                    as=\"select\"\r\n                                    custom\r\n                                    size=\"sm\"\r\n                                    onChange={props.handleSelect('character')}\r\n                                >\r\n                                    {\r\n                                        Object.keys(data.characters)\r\n                                            .map((c, idx) => <option key={idx}>\r\n                                                {stringData.characters.name[parseInt(c)]}\r\n                                            </option>)\r\n                                    }\r\n                                </Select>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Gutter />\r\n                        {stringData.potential.character.currentSelectTitle}\r\n                        <br />\r\n                        <Form.Row>\r\n                            <Form.Group as={Col}>\r\n                                <Select\r\n                                    as=\"select\"\r\n                                    custom\r\n                                    size=\"sm\"\r\n                                    onChange={props.handleSelect('currStage')}\r\n                                >\r\n                                    {props.stages}\r\n                                </Select>\r\n                            </Form.Group>\r\n                            \r\n                            <Form.Group as={Col}>\r\n                                <Select\r\n                                    as=\"select\"\r\n                                    custom\r\n                                    size=\"sm\"\r\n                                    onChange={props.handleSelect('currSub')}\r\n                                >\r\n                                    {[...Array(7).keys()].slice(1)\r\n                                        .map(i => <option key={i}>{i}</option>)}\r\n                                </Select>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        {stringData.potential.character.targetSelectTitle}\r\n                        <br />\r\n                        <Form.Row>\r\n                            <Form.Group as={Col}>\r\n                                <Select\r\n                                    as=\"select\"\r\n                                    custom\r\n                                    size=\"sm\"\r\n                                    onChange={props.handleSelect('targetStage')}\r\n                                >\r\n                                    {props.stages}\r\n                                </Select>\r\n                            </Form.Group>\r\n                            \r\n                            <Form.Group as={Col}>\r\n                                <Select\r\n                                    as=\"select\"\r\n                                    custom\r\n                                    size=\"sm\"\r\n                                    onChange={props.handleSelect('targetSub')}\r\n                                >\r\n                                    {[...Array(7).keys()].slice(1)\r\n                                        .map(i => <option key={i}>{i}</option>)}\r\n                                </Select>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </div>\r\n            </ContainerBody>\r\n        </FilterPanel>\r\n    )\r\n}\r\n\r\nconst ImgMaterialWrapper = styled.img`\r\n    width: 2rem;\r\n    height: 2rem;\r\n    margin-right: .4rem;\r\n`\r\nconst ImgOtherWrapper = styled.img`\r\n    width: 1.6rem;\r\n    height: 1.6rem;\r\n    margin-right: .4rem;\r\n`\r\nconst MaterialContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 1rem;\r\n    min-height: 6rem;\r\n`\r\nconst MaterialWrapper = styled.span`\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 .4rem;\r\n    margin: .2rem 0;\r\n    ${props => Object.entries(props.$layoutConfig).map(entry => (\r\n    `@media screen and (min-width: ${entry[0]}px) {\r\n            width: calc(100% / ${entry[1]});\r\n        }\r\n        `\r\n    ))}\r\n`\r\nconst HelpIconWrapper = styled.div`\r\n    margin-right: auto;\r\n    svg {\r\n        fill: ${props => props.theme.colors.secondary};\r\n        width: 1.4rem;\r\n        height: 1.4rem;\r\n        margin-left: .4rem;\r\n        cursor: pointer;\r\n        vertical-align: top;\r\n    }\r\n`\r\n\r\nconst ResultPanel = (props) => {\r\n    const { userLanguage, stringData } = React.useContext(LanguageContext)\r\n\r\n    const [modalOpen, setModalOpen] = React.useState(false)\r\n\r\n    const itemIdToName = (id) => {\r\n        if (id === '801') return stringData.items.name[35]\r\n        if (id === '901') return stringData.items.name[36]\r\n\r\n        const rank = Math.floor(id / 100)\r\n        const item = id % 100\r\n        if (rank <= 3) {\r\n            return stringData.items.name[rank * 5 + item - 1]\r\n        }\r\n\r\n        return stringData.items.name[rank * 5 + item + 4]\r\n    }\r\n\r\n    const resultLayoutConfig = userLanguage === 'en'\r\n        ? {\r\n            1360: 5,\r\n            1200: 4,\r\n            768: 3,\r\n            0: 2\r\n        }\r\n        : {\r\n            1360: 6,\r\n            1200: 5,\r\n            768: 4,\r\n            624: 3,\r\n            0: 2\r\n        }\r\n\r\n    const MaterialBox = () => {\r\n        if (!props.result.items) return <></>\r\n\r\n        return (\r\n            <>\r\n                {Object.entries(props.result.items).map((item, idx) => (\r\n                    <MaterialWrapper\r\n                        key={idx}\r\n                        $layoutConfig={resultLayoutConfig}\r\n                    >\r\n                        <div>\r\n                            <ImgMaterialWrapper\r\n                                src={\r\n                                    `${process.env.PUBLIC_URL}/img/item_${('00' + item[0]).slice(-3)}.png`\r\n                                }\r\n                                alt=''\r\n                            />\r\n                            {`${itemIdToName(item[0])}`}\r\n                        </div>\r\n                        {item[1]}\r\n                    </MaterialWrapper>\r\n                ))}\r\n                <MaterialWrapper\r\n                    $layoutConfig={resultLayoutConfig}\r\n                >\r\n                    <ImgMaterialWrapper\r\n                        src={`${process.env.PUBLIC_URL}/img/money.png`}\r\n                        alt='money'\r\n                    />\r\n                    {props.result.money}\r\n                </MaterialWrapper>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <FilterPanel widthConfig={props.widthConfig}>\r\n            <div>\r\n                <ContainerHeader\r\n                    title={\r\n                        <IconWrapper>\r\n                            {ItemIcon}\r\n                            {stringData.potential.character.resultDemandTitle}\r\n                            <HelpIconWrapper\r\n                                onClick={() => setModalOpen(true)}\r\n                            >\r\n                                {HelpIcon}\r\n                            </HelpIconWrapper>\r\n                        </IconWrapper>\r\n                    }\r\n                />\r\n                <MaterialContainer>\r\n                    <MaterialBox />\r\n                </MaterialContainer>\r\n            </div>\r\n            <div>\r\n                <ContainerHeader\r\n                    title={\r\n                        <IconWrapper>\r\n                            {BuffIcon}\r\n                            {stringData.potential.character.resultBuffTitle}\r\n                        </IconWrapper>\r\n                    }\r\n                />\r\n                <div>\r\n                    <MaterialWrapper\r\n                        $layoutConfig={resultLayoutConfig}\r\n                    >\r\n                        <div>\r\n                            <ImgOtherWrapper\r\n                                src={`${process.env.PUBLIC_URL}/img/ATK.png`}\r\n                                alt='ATK'\r\n                            />\r\n                            {`${props.result.buff.ATK} %`}\r\n                        </div>\r\n                    </MaterialWrapper>\r\n                    <MaterialWrapper\r\n                        $layoutConfig={resultLayoutConfig}\r\n                    >\r\n                        <div>\r\n                            <ImgOtherWrapper\r\n                                src={`${process.env.PUBLIC_URL}/img/HP.png`}\r\n                                alt='HP'\r\n                            />\r\n                            {`${props.result.buff.HP} %`}\r\n                        </div>\r\n                    </MaterialWrapper>\r\n                </div>\r\n            </div>\r\n            <HelpModal\r\n                modalOpen={modalOpen}\r\n                handleModalClose={() => setModalOpen(false)}\r\n                content={stringData.potential.character.modal}\r\n            />\r\n        </FilterPanel>\r\n    )\r\n}\r\n\r\nconst FilterContainer = styled.div`\r\n    display: table;\r\n    width: 100%;\r\n    > div {\r\n        display: table-cell;\r\n    }\r\n    @media screen and (max-width: 992px) {\r\n        display: block;\r\n        > div {\r\n            display: block; \r\n        }\r\n    }\r\n    > div:last-child {\r\n        @media screen and (max-width: 992px) {\r\n            width: ${props => props.resultPanelWidthConfig[992]};\r\n            margin-left: calc(100% - ${props => props.resultPanelWidthConfig[992]});\r\n            position: relative;\r\n            margin-top: 1rem;\r\n        }\r\n    }\r\n    > .MuiSnackbar-root {\r\n        > div {\r\n            background-color: #ff9800;\r\n            font-size: medium;\r\n            display: flex;\r\n            flex-direction: row-reverse;\r\n            justify-content: center;\r\n            > .MuiSnackbarContent-action {\r\n                margin: 0;\r\n                padding: 0;\r\n                svg \r\n                {\r\n                    width: 1.4rem;\r\n                    height: 1.4rem;\r\n                    fill: #fff;\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\nconst TableGutter = styled.div`\r\n    width: 0;\r\n    padding: .5rem;\r\n    @media screen and (max-width: 992px) {\r\n        padding: 0;\r\n    }\r\n`\r\n\r\nconst resultPanelWidthConfig = {\r\n    default: 'calc(75% - 1rem)',\r\n    992: '100%',\r\n}\r\n\r\nexport default function CharPotential() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    const [state, setState] = React.useState({\r\n        character: '0',\r\n        currStage: \"1\",\r\n        currSub: \"1\",\r\n        targetStage: \"1\",\r\n        targetSub: \"1\",\r\n        isValid: true,\r\n        isSnackbarOpen: false,\r\n        result: {\r\n            items: undefined,\r\n            money: 0,\r\n            buff: {\r\n                ATK: 0,\r\n                HP: 0,\r\n                PASSIVE: 0\r\n            },\r\n        },\r\n    })\r\n\r\n    const handleSelect = (attr) => (event) => {\r\n        //update state\r\n        let newState = { ...state }\r\n\r\n        // parse character name to id\r\n        const selected = attr === 'character'\r\n            ? stringData.characters.name.indexOf(event.target.value).toString()\r\n            : event.target.value\r\n\r\n        newState[attr] = selected\r\n        if (selected === '40') {\r\n            newState.currStage = state.currStage > 6 ? 1 : state.currStage\r\n            newState.targetStage = state.targetStage > 6 ? 1 : state.targetStage\r\n        }\r\n        newState.isValid =\r\n            parseInt(newState.targetStage) > parseInt(newState.currStage) ||\r\n            (parseInt(newState.targetStage) === parseInt(newState.currStage) &&\r\n                parseInt(newState.targetSub) >= parseInt(newState.currSub))\r\n        newState.isSnackbarOpen = !newState.isValid\r\n        if (!newState.isValid) {\r\n            newState.result = {\r\n                items: undefined,\r\n                money: 0,\r\n                buff: {\r\n                    ATK: 0,\r\n                    HP: 0,\r\n                    PASSIVE: 0\r\n                },\r\n            }\r\n            setState(newState)\r\n            return\r\n        }\r\n        let result = {\r\n            items: {},\r\n            money: 0,\r\n            buff: {\r\n                ATK: 0,\r\n                HP: 0,\r\n                PASSIVE: 0\r\n            },\r\n        }\r\n        // calculate demand\r\n        const type = data.characters[newState.character].type\r\n        const stages = data.type[type]\r\n        const start = newState.currStage - 1\r\n        const end = newState.targetStage - 1\r\n        for (let i = start; i < end + 1; i++) {\r\n            let stage = stages[i]\r\n            for (\r\n                let j = i === start ? newState.currSub - 1 : 0;\r\n                j < (i === end ? newState.targetSub : 6);\r\n                j++\r\n            ) {\r\n                let id = stage.pattern[j] + stage.rank[j]\r\n                if (result.items[id]) {\r\n                    result.items[id] += stage.num[j]\r\n                } else {\r\n                    result.items[id] = stage.num[j]\r\n                }\r\n                result.money += (i + 1) * 8000\r\n                let buff = data.itemMap[stage.pattern[j]].type\r\n                result.buff[buff] += stage.buff[j]\r\n            }\r\n        }\r\n        // parse result\r\n        let parsedItem = {}\r\n        for (const [key, value] of Object.entries(result.items)) {\r\n            let itemId = data.itemMap[key[0]].id.map(id => (\r\n                (parseInt(key[1]) * 100 + id).toString()\r\n            ))\r\n            for (let i of itemId) {\r\n                if (parsedItem[i]) {\r\n                    parsedItem[i] += value\r\n                } else {\r\n                    parsedItem[i] = value\r\n                }\r\n            }\r\n        }\r\n        result.items = parsedItem\r\n        result.buff.ATK = Math.round(result.buff.ATK * 100) / 100\r\n        result.buff.HP = Math.round(result.buff.HP * 100) / 100\r\n        newState.result = result\r\n        setState(newState)\r\n    }\r\n\r\n    const stages = [...Array(state.character === '40' ? 7 : 13).keys()]\r\n        .slice(1).map(i => <option key={i}>{i}</option>)\r\n\r\n    const handleSnackbarClose = () => setState((state) => ({\r\n        ...state,\r\n        isSnackbarOpen: false\r\n    }))\r\n\r\n    return (\r\n        <FilterContainer\r\n            resultPanelWidthConfig={resultPanelWidthConfig}\r\n        >\r\n            <Snackbar\r\n                open={state.isSnackbarOpen}\r\n                autoHideDuration={3000}\r\n                onClose={handleSnackbarClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                message={stringData.potential.character.snackbarMsg}\r\n                action={AlertIcon}\r\n            />\r\n            <SelectPanel\r\n                handleSelect={handleSelect}\r\n                stages={stages}\r\n                character={state.character}\r\n            />\r\n            <TableGutter />\r\n            <ResultPanel\r\n                widthConfig={resultPanelWidthConfig}\r\n                result={state.result}\r\n            />\r\n        </FilterContainer>\r\n    )\r\n}","import Home from './pages/Home';\r\nimport Enlist from './pages/Enlist';\r\nimport Potential from './pages/Potential';\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n        exact: true,\r\n    },\r\n    {\r\n        path: '/enlist',\r\n        component: Enlist,\r\n    },\r\n    {\r\n        path: '/potential',\r\n        component: Potential,\r\n    }\r\n]\r\n","import React from 'react';\r\nimport CharFilter from '../components/CharFilter';\r\nimport CharShowcase from '../components/CharShowcase';\r\nimport PageWithTabs from '../components/PageWithTabs';\r\nimport { FilterIcon, OverviewIcon } from '../components/Icon';\r\nimport { LanguageContext } from '../components/LanguageProvider';\r\n\r\nexport default function Enlist() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <PageWithTabs\r\n            title={stringData.enlist.documentTitle}\r\n            tabs={[\r\n                { label: stringData.enlist.label[0], icon: OverviewIcon, content: <CharShowcase /> },\r\n                { label: stringData.enlist.label[1], icon: FilterIcon, content: <CharFilter /> },\r\n            ]}\r\n        />\r\n    )\r\n}","import React from 'react';\r\nimport ItemShowcase from '../components/ItemShowcase';\r\nimport ItemFilter from '../components/ItemFilter';\r\nimport CharPotential from '../components/CharPotential';\r\nimport { CalcIcon, OverviewIcon, FilterIcon } from '../components/Icon';\r\nimport PageWithTabs from '../components/PageWithTabs';\r\nimport { LanguageContext } from '../components/LanguageProvider';\r\n\r\nexport default function Potential() {\r\n    const { stringData } = React.useContext(LanguageContext)\r\n\r\n    return (\r\n        <PageWithTabs\r\n            title={stringData.potential.documentTitle}\r\n            tabs={[\r\n                { label: stringData.potential.label[0], icon: OverviewIcon, content: <ItemShowcase /> },\r\n                { label: stringData.potential.label[1], icon: FilterIcon, content: <ItemFilter /> },\r\n                { label: stringData.potential.label[2], icon: CalcIcon, content: <CharPotential /> },\r\n            ]}\r\n        />\r\n    )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport ScrollUpButton from 'react-scroll-up-button';\r\nimport { ToTopIcon } from './Icon';\r\n\r\n\r\nconst StyledBtn = styled.div`\r\n    .Container {\r\n        position: fixed;\r\n        right: -100px;\r\n        bottom: 1.5rem;\r\n        transition: right 0.5s;\r\n        cursor: pointer;\r\n        background-color: ${props => props.theme.colors.secondary};\r\n        padding: .2rem;\r\n        border-radius: 2rem;\r\n    }\r\n    .Transition{\r\n        right: 1.1rem;\r\n    }\r\n    svg {\r\n        width: 2rem;\r\n        height: 2rem;\r\n        fill: ${props => props.theme.colors.onSecondary};\r\n    }\r\n`\r\n\r\nexport default function ToTopBtn() {\r\n    return (\r\n        <StyledBtn>\r\n            <ScrollUpButton\r\n                ContainerClassName=\"Container\"\r\n                TransitionClassName=\"Transition\"\r\n                EasingType='easeOutCirc'\r\n            >\r\n                {ToTopIcon}\r\n            </ScrollUpButton>\r\n        </StyledBtn>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport styled, { ThemeProvider } from 'styled-components';\r\nimport { MainNavbar, Sidebar } from './components/Navbars';\r\nimport { lightTheme, darkTheme } from './components/Theme';\r\nimport LanguageProvider from './components/LanguageProvider';\r\nimport { Route } from 'react-router-dom';\r\nimport { routes } from './routes'\r\nimport ToTopBtn from './components/ToTopBtn';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\n\r\nconst Body = styled.div`\r\n    min-height: 100vh;\r\n    transition: background-color 355ms ease;\r\n    background-color: ${props => props.theme.colors.background};\r\n    color: ${props => props.theme.colors.onSurface};\r\n`\r\nconst Main = styled.main`\r\n    padding: 1rem;\r\n`\r\n\r\nexport default function App() {\r\n    const getDefaultTheme = () => {\r\n        const localSetting = localStorage.getItem('color-theme')\r\n        if (localSetting) {\r\n            return localSetting\r\n        }\r\n        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n            return 'dark'\r\n        }\r\n        return 'light'\r\n    }\r\n\r\n    const [pageConfig, setPageConfig] = useState({\r\n        theme: getDefaultTheme(),\r\n        sidebarOpen: false\r\n    })\r\n\r\n    const toggleTheme = (event) => {\r\n        // ignore tab and shift key\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        const toTheme = pageConfig.theme === 'light' ? 'dark' : 'light'\r\n        setPageConfig((state) => ({\r\n            ...state,\r\n            theme: toTheme\r\n        }))\r\n        localStorage.setItem('color-theme', toTheme)\r\n    }\r\n\r\n    const toggleSidebar = (toOpen) => (event) => {\r\n        if (\r\n            (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) ||\r\n            event.target.closest('.MuiAccordion-root') !== null\r\n        ) {\r\n            return;\r\n        }\r\n        setPageConfig((state) => ({\r\n            ...state,\r\n            sidebarOpen: toOpen\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <LanguageProvider>\r\n            <ThemeProvider\r\n                theme={pageConfig.theme === 'light' ? lightTheme : darkTheme}\r\n            >\r\n                <Body>\r\n                    <MainNavbar\r\n                        checked={pageConfig.theme === 'dark'}\r\n                        toggleTheme={toggleTheme}\r\n                        toggleSidebar={toggleSidebar}\r\n                    />\r\n                    <Sidebar\r\n                        open={pageConfig.sidebarOpen}\r\n                        toggleSidebar={toggleSidebar}\r\n                    />\r\n                    <Main>\r\n                        {routes.map((route, idx) => {\r\n                            const { path, exact } = route;\r\n                            return (\r\n                                <Route\r\n                                    key={idx}\r\n                                    path={path}\r\n                                    exact={exact}\r\n                                    render={() => <route.component />}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </Main>\r\n                    <ToTopBtn />\r\n                </Body>\r\n            </ThemeProvider>\r\n        </LanguageProvider>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter basename={'/tkfmtools' || ''}>\r\n        <Switch>\r\n            <App />\r\n        </Switch>\r\n    </BrowserRouter>,\r\n    document.querySelector('#root')\r\n)\r\n"],"sourceRoot":""}